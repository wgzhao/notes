
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="TCPDUMP is a swiss army knife for all the administrators and developers when it comes to troubleshooting. This post is written for the people who work in middleware technologies.">
      
      
        <meta name="author" content="wgzhao">
      
      
        <link rel="canonical" href="https://wgzhao.github.io/notes/troubleshooting/capture-http-requests-with-tcpdump/">
      
      
        <link rel="prev" href="../../tips/wechat-contacts-backup/">
      
      
        <link rel="next" href="../deep-in-tcp-connect/">
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS 订阅" href="../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="已更新内容的 RSS 订阅" href="../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.1">
    
    
      
        <title>TCPDump Capture HTTP GET/POST requests - 个人笔记</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a40c8224.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tcpdump-capture-http-getpost-requests" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="个人笔记" class="md-header__button md-logo" aria-label="个人笔记" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            个人笔记
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              TCPDump Capture HTTP GET/POST requests
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/wgzhao/notes" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    wgzhao/notes
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../tags/" class="md-tabs__link">
        
  
    
  
  Tags

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../bigdata/ambari-cli/" class="md-tabs__link">
          
  
    
  
  Bigdata

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../courses/commands-in-sbin/" class="md-tabs__link">
          
  
    
  
  Courses

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../database/maridb-ax-setup/" class="md-tabs__link">
          
  
    
  
  Database

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../kubernetes/access-k8s-pod-from-outersider/" class="md-tabs__link">
          
  
    
  
  Kubernetes

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../misc/Latex%20Math%20Symbols/" class="md-tabs__link">
          
  
    
  
  Misc

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../programming/design-restful-api-with-python-and-flask/" class="md-tabs__link">
          
  
    
  
  Programming

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../tips/bash-tips/" class="md-tabs__link">
          
  
    
  
  Tips

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
    
  
  Troubleshooting

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="个人笔记" class="md-nav__button md-logo" aria-label="个人笔记" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    个人笔记
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/wgzhao/notes" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    wgzhao/notes
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tags
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Bigdata
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Bigdata
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bigdata/ambari-cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    使用 Ambari API 来操作 Hadoop 集群
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bigdata/flink-cdc-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flink SQL CDC 实践以及一致性分析
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bigdata/integrating-hive-with-spark/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrating Apache Hive with Apache Spark
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bigdata/integrating-phoenix-with-kerberos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Phoenix 集成 HBase 并支持 Kerberos 认证
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bigdata/ipa-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    free IPA setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bigdata/kerberos-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MIT Kerberos  安装及维护手册
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bigdata/mafengwo-warehouse-design-and-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    马蜂窝数据仓库设计与实践
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bigdata/presto-with-ssl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Presto SSL 配置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bigdata/zookeeper-optimize/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    zookeeper集群应对万级并发的调优
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Courses
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Courses
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/commands-in-sbin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linux 命令学习
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/linux-cfs-scheduler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linux CFS 调度器：原理、设计与内核实现
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/pg9_high_performance_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    《PostgreSQL 9 High Performance》读书笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Mysql lecture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Mysql lecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/mysql-lecture/mysql-practices-lecture-45-1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    《MySQL 实战45讲》节选第一部分
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/mysql-lecture/mysql-practices-lecture-45-2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    《MySQL 实战45讲》节选第二部分
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/mysql-lecture/mysql-practices-lecture-45-3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    《MySQL 实战45讲》节选第三部分
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/mysql-lecture/mysql-practices-lecture-45-4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    《MySQL 实战45讲》节选第四部分
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/mysql-lecture/mysql-practices-lecture-45-5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    《MySQL 实战45讲》节选第五部分
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Time series analysis
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            Time series analysis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/time-series-analysis/01-basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基础篇
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/time-series-analysis/02-primer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    初级篇
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/time-series-analysis/03-advance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    进阶篇
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/time-series-analysis/04-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    应用篇
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/time-series-analysis/05-complete/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    补完篇
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Database
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Database
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/maridb-ax-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MariaDB AX 安装测试简记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/mysql-cluster-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MySQL Cluster 配置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/oracle-11g-imp-and-exp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Oracle 11g 导入导出基本操作
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/oracle-silent-installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Oracle 静默安装
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/percona-cluster-with-haproxy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HAProxy + Percona XtraDB Cluster 部署
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/setup-a-clickhouse-cluster-on-one-node/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    在一个节点上部署 ClickHouse 集群
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/why-mysql8-slower-than-mysql57/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    默认配置下，为什么 MySQL 8.0 比 MySQL 5.7 慢
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Kubernetes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Kubernetes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/access-k8s-pod-from-outersider/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    外部机器如何直接直接访问 kubernetes 集群内服务
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/calico-node-troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Calico Node 无法启动的排查
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/collect-k8s-log-with-filebeat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基于 ELK 的 日志收集与自动索引创建
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/coredns-support-hosts-file/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CoreDNS 支持解析宿主机的 hosts 文件
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/deep-dive-into-k8s-internals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    用奇怪的方式构建简单 k8s 集群
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/how-to-create-user-for-k8s-dashboard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    在 Kubernetes Dashboard 创建基于 RBAC 的授权用户
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/kubernetes-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    使用 kubeadm 安装 kubernetes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/take-flannel-to-calico/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migrate kubernetes cluster from Flannel to Calico
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Misc
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Misc
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/Latex%20Math%20Symbols/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    用于 LateX 的数学符号
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/git-from-zero-to-hero/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git从入门到应付日常工作
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/gitlab-ci-configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    gitlab-ci.yml 详解
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/osint-introduce/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    超级情报手机工具库：开源验证和调查工具及使用方法
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Programming
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Programming
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../programming/design-restful-api-with-python-and-flask/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    使用 Python 和 Flask 设计 RESTful API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../programming/programming-with-vim/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    无插件Vim编程技巧
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../programming/pure-bash-bible/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pure Bash Bible
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../programming/understanding-awk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Understanding AWK
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tips
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Tips
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/bash-tips/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BASH 的一些技巧
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/batch-convert-word-to-pdf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Windows 下批量转换 word 文档为 pdf 的方法
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/change-keyboard-layout-in-ubuntu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ubuntu 下修改键盘映射
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/git-internals-objects-branches-create-repo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git 内部原理图解 -- 对象、分支以及如何从零开始建仓库
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/git-tips/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    git 不常见的操作技巧
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/how-to-create-dummy-rpm-package/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    快速创建一个虚假 RPM 包
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/howto-change-git-author/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to change git author name and email
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/howto-delete-old-images-from-nexus-registry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    如何删除 nexus 私服上的 Docker 镜像
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/howto-save-tmux-session/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to save tmux session
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/learn-seaborn-with-10min/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    十分钟掌握 Seaborn
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/matplotlib-support-chinese/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    让 Python 中 matplotlib 图支持中文
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/move-running-process-into-tmux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    把一个运行的进程放到 tmux 会话中
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/rpm-tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rpm 包管理基本技能
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/sed-one-line-tips/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SED 单行脚本快速参考
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/setup-gitlab-ci-for-android/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setup Gitlab CI For Android
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/ssh-three-key-features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ssh的三板斧
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/ssh-tips/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SSH examples, tips and tunnels
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/wechat-contacts-backup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    微信通讯录备份
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" checked>
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Troubleshooting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    TCPDump Capture HTTP GET/POST requests
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    TCPDump Capture HTTP GET/POST requests
    
  </span>
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#so-how-do-you-do-that" class="md-nav__link">
    <span class="md-ellipsis">
      So, How do you do that?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-objective" class="md-nav__link">
    <span class="md-ellipsis">
      The Objective
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#before-we-proceed" class="md-nav__link">
    <span class="md-ellipsis">
      Before we proceed
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tcpdump-examples" class="md-nav__link">
    <span class="md-ellipsis">
      tcpdump Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="tcpdump Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-capture-all-incoming-http-get-traffic-or-requests" class="md-nav__link">
    <span class="md-ellipsis">
      How to capture All incoming HTTP GET traffic (or) requests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-capture-all-incoming-http-post-requests" class="md-nav__link">
    <span class="md-ellipsis">
      How to capture All incoming HTTP POST requests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-capture-only-http-get-requests-incoming-to-port-80-apachenginx" class="md-nav__link">
    <span class="md-ellipsis">
      How to capture only HTTP GET requests Incoming to port 80 ( Apache/NGINX)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-capture-only-http-post-requests-incoming-to-port-80-apachenginx" class="md-nav__link">
    <span class="md-ellipsis">
      How to capture only HTTP POST requests Incoming to port 80 ( Apache/NGINX)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-capture-only-http-get-calls-incoming-to-port-443-apachenginx" class="md-nav__link">
    <span class="md-ellipsis">
      How to capture only HTTP GET calls Incoming to port 443 ( Apache/NGINX)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-capture-only-http-post-calls-incoming-to-port-443-apachenginx" class="md-nav__link">
    <span class="md-ellipsis">
      How to capture only HTTP POST calls Incoming to port 443 ( Apache/NGINX)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-capture-both-http-get-or-post-incoming-calls-to-port-80-or-443-apachenginx-originating-from-19216831205-host" class="md-nav__link">
    <span class="md-ellipsis">
      How to capture both HTTP GET (or) POST Incoming calls to port 80 (or) 443 ( Apache/NGINX) Originating from 192.168.31.205 Host**
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-capture-a-complete-http-transmission-incoming-and-outgoing-get-and-post" class="md-nav__link">
    <span class="md-ellipsis">
      How to capture a Complete HTTP Transmission incoming and outgoing GET and POST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-monitor-all-the-incoming-http-request-urls-post-or-get" class="md-nav__link">
    <span class="md-ellipsis">
      How to monitor all the incoming HTTP Request URL's (POST or GET)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-capture-http-passwords-in-post-requests" class="md-nav__link">
    <span class="md-ellipsis">
      How to capture HTTP Passwords in POST Requests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-capture-the-cookies-from-server-and-from-client-request-response" class="md-nav__link">
    <span class="md-ellipsis">
      How to capture the Cookies from Server and from Client ( Request &amp; Response)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-filter-http-user-agents" class="md-nav__link">
    <span class="md-ellipsis">
      How to Filter HTTP User Agents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-capture-the-http-packets-being-transmitted-between-webserver-and-application-server-both-get-post" class="md-nav__link">
    <span class="md-ellipsis">
      How to capture the HTTP packets being transmitted between Webserver and Application server both GET &amp; POST?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How to capture the HTTP packets being transmitted between Webserver and Application server both GET & POST?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-capture-a-complete-http-transmission-with-tcpdump-get-post-on-specific-port" class="md-nav__link">
    <span class="md-ellipsis">
      How to capture a Complete HTTP Transmission with TCPDUMP ( GET &amp; POST) on specific port
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-record-a-tcpdump-session-or-capture-packets-with-tcpdump" class="md-nav__link">
    <span class="md-ellipsis">
      How to record a TCPDUMP Session (or) Capture packets with tcpdump
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-read-the-tcpdump-recorded-session-or-packet-capture-pcap-file" class="md-nav__link">
    <span class="md-ellipsis">
      How to read the TCPDUMP recorded session (or) packet capture - pcap file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deep-in-tcp-connect/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    详解 TCP 半连接队列与全连接队列
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../docker-run-no-space-left/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker 运行容器报磁盘空间不足的错误
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fix-ora-00227/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    修复 Oracle ORA-00227 错误
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../jdk1.6-support-tlsv1.2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    让 Oracle JDK 1.6 TLSv1.2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <nav class="md-tags" >
    
      
      
      
        <a href="../../tags/#tag:tcpdump" class="md-tag">tcpdump</a>
      
    
  </nav>



<h1 id="tcpdump-capture-http-getpost-requests">TCPDump Capture HTTP GET/POST requests<a class="headerlink" href="#tcpdump-capture-http-getpost-requests" title="Permanent link">&para;</a></h1>
<p><a href="https://www.middlewareinventory.com/blog/tcpdump-capture-http-get-post-requests-apache-weblogic-websphere/" title="Permalink to TCPDump Capture HTTP GET/POST requests | Devops Junction">Source</a></p>
<p>TCPDUMP is a <a href="https://en.wikipedia.org/wiki/Swiss_Army_knife">swiss army knife</a> for all the administrators and developers when it comes to troubleshooting. This post is written for the people who work in middleware technologies. Web servers such as Apache, NGINX, Oracle HTTP, IHS web servers and application servers such as Weblogic, Websphere, Tomcat, Jboss</p>
<p>Consider yourself in any of the following scenarios</p>
<ol>
<li>You want to monitor the <strong>traffic inflow and outflow</strong> of Apache httpd server on any specific port like port 80 or 443</li>
<li>You have to <strong>track the HTTP calls between web and application servers</strong> (or) to make sure that proxy is working fine.</li>
<li>
<p>When you want to examine the presence and values of specific headers like </p>
<p><code>X-Forwarded-For
X-Forwarded-Proto
X-Forwarded-Port
X-Forwarded-Host
X-Frame-Options
X-Forwarded-By
ETag</code>
4. When you want to review the <strong>Cookies</strong> being placed in the request and response
5. when you want to review the data which is being posted to the server in the POST method like </p>
<p><code>Content-type: multipart/form-data;  
Content-Type: application/x-www-form-urlencoded 
Content-Type: application/json 
Content-Type: text/plain</code>
6. To track the incoming web service call, made using SOAP UI (or) any web service client.</p>
</li>
</ol>
<h2 id="so-how-do-you-do-that">So, How do you do that?<a class="headerlink" href="#so-how-do-you-do-that" title="Permanent link">&para;</a></h2>
<p>**The answer is TCPDUMP. ** TCPDUMP is mostly misconceived as a network engineer's subject and it displays some incomprehensible binary data that none of us could understand.</p>
<p>With proper tools and little knowledge about protocols, anyone can easily make use of it and feel the magic lies within.</p>
<blockquote>
<p>Be informed that the industry standards have changed for good and the <strong>HTTPS is becoming a basic requirement</strong> for all webservices and websites. So it might make your troubleshooting little hard, since the packets are encrypted. <strong>There is a solution to decrypt HTTPS traffic</strong></p>
<p>Refer my another article on <a href="https://www.middlewareinventory.com/blog/how-to-decrypt-https-traffic/">How to decrypt HTTPS traffic to see headers and request/response content</a></p>
</blockquote>
<h2 id="the-objective">The Objective<a class="headerlink" href="#the-objective" title="Permanent link">&para;</a></h2>
<p>In this post, we are going to see how middleware administrators (or) developers could use tcpdump to accomplish their troubleshooting drama.</p>
<p>We are going to discuss the following items , practically as much as possible.</p>
<ul>
<li>How to monitor/track HTTP and HTTPS calls with tcpdump in weblogic,WebSphere,tomcat application servers and web servers like Apache <strong>which runs on LINUX platform</strong></li>
<li>How to tamper and read the incoming and outgoing HTTP traffic to our applications deployed in weblogic</li>
<li>How to dig into the incoming (or) outgoing HTTP traffic and take a look at the concrete elements of HTTP protocol such as** headers, cookies, request body** as they gets transmitted.</li>
<li>How to intercept the HTTP traffic initiated from the browser (or) SOAP UI to application server and sneak a peek into the content like <strong>Request Body</strong> like** XML,JSON <strong>and **Username</strong> and <strong>Password</strong> etc.</li>
<li>
<p>How to monitor the incoming SOAP web service request body (or) request XML</p>
</li>
<li>
<p>More practical examples on how to use TCPDUMP to analyze the HTTP traffic</p>
</li>
</ul>
<h2 id="before-we-proceed">Before we proceed<a class="headerlink" href="#before-we-proceed" title="Permanent link">&para;</a></h2>
<p>Some basics about how to run tcpdump in your server in the right way.</p>
<p><strong>Make sure tcpdump is installed and configured properly</strong></p>
<div class="highlight"><pre><span></span><code>[root@mwiws01 ~]# tcpdump – version
tcpdump version 4.9.2
libpcap version 1.5.3
OpenSSL 1.0.2k-fips 26 Jan 2017
</code></pre></div>
<p><strong>Use the right interface name (or) use any in the interface name.</strong></p>
<p>To Get the interface name of your IP which you need to specify it in the tcpdump command. you can execut the command <code>ifconfig</code> (or) <code>ip a</code></p>
<p>In my case, My web server IP is <code>192.168.31.76</code> so I should pick and use the interface name of the same <code>wlp0s20f3</code></p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ifconfig<span class="w"> </span>wlp0s20f3
wlp0s20f3:<span class="w"> </span><span class="nv">flags</span><span class="o">=</span><span class="m">4163</span>&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;<span class="w">  </span>mtu<span class="w"> </span><span class="m">1500</span>
<span class="w">        </span>inet<span class="w"> </span><span class="m">192</span>.168.31.76<span class="w">  </span>netmask<span class="w"> </span><span class="m">255</span>.255.255.0<span class="w">  </span>broadcast<span class="w"> </span><span class="m">192</span>.168.31.255
<span class="w">        </span>inet6<span class="w"> </span><span class="m">2409</span>:8a50:693:930:da38:cc7c:4d8f:8d93<span class="w">  </span>prefixlen<span class="w"> </span><span class="m">64</span><span class="w">  </span>scopeid<span class="w"> </span>0x0&lt;global&gt;
<span class="w">        </span>inet6<span class="w"> </span><span class="m">2409</span>:8a50:693:930::d02<span class="w">  </span>prefixlen<span class="w"> </span><span class="m">128</span><span class="w">  </span>scopeid<span class="w"> </span>0x0&lt;global&gt;
<span class="w">        </span>inet6<span class="w"> </span>fe80::cbf:9e72:4be8:6b73<span class="w">  </span>prefixlen<span class="w"> </span><span class="m">64</span><span class="w">  </span>scopeid<span class="w"> </span>0x20&lt;link&gt;
<span class="w">        </span>inet6<span class="w"> </span><span class="m">2409</span>:8a50:693:930:72db:3ee4:8539:332d<span class="w">  </span>prefixlen<span class="w"> </span><span class="m">64</span><span class="w">  </span>scopeid<span class="w"> </span>0x0&lt;global&gt;
<span class="w">        </span>ether<span class="w"> </span>6c:94:66:4b:c3:cd<span class="w">  </span>txqueuelen<span class="w"> </span><span class="m">1000</span><span class="w">  </span>
<span class="w">        </span>RX<span class="w"> </span>packets<span class="w"> </span><span class="m">18758580</span><span class="w">  </span>bytes<span class="w"> </span><span class="m">3461986404</span><span class="w"> </span><span class="o">(</span><span class="m">3</span>.4<span class="w"> </span>GB<span class="o">)</span>
<span class="w">        </span>RX<span class="w"> </span>errors<span class="w"> </span><span class="m">0</span><span class="w">  </span>dropped<span class="w"> </span><span class="m">0</span><span class="w">  </span>overruns<span class="w"> </span><span class="m">0</span><span class="w">  </span>frame<span class="w"> </span><span class="m">0</span>
<span class="w">        </span>TX<span class="w"> </span>packets<span class="w"> </span><span class="m">2564530</span><span class="w">  </span>bytes<span class="w"> </span><span class="m">960162238</span><span class="w"> </span><span class="o">(</span><span class="m">960</span>.1<span class="w"> </span>MB<span class="o">)</span>
<span class="w">        </span>TX<span class="w"> </span>errors<span class="w"> </span><span class="m">0</span><span class="w">  </span>dropped<span class="w"> </span><span class="m">0</span><span class="w"> </span>overruns<span class="w"> </span><span class="m">0</span><span class="w">  </span>carrier<span class="w"> </span><span class="m">0</span><span class="w">  </span>collisions<span class="w"> </span><span class="m">0</span>
</code></pre></div>
<p>Once you found your interface. In the requests you are going to track. you must mention the interface name</p>
<div class="highlight"><pre><span></span><code>tcpdump -i wlp0s20f3
</code></pre></div>
<p>you can optionally monitor all the available interfaces by mentioning</p>
<div class="highlight"><pre><span></span><code>tcpdump -i any
</code></pre></div>
<p>Now we are All ready to Play.</p>
<h2 id="tcpdump-examples">tcpdump Examples<a class="headerlink" href="#tcpdump-examples" title="Permanent link">&para;</a></h2>
<p>TCPDUMP does the same job irrespective to what technology (or) server you are using it for. In other words, if you would like capture HTTP calls for Apache. You mostly going to be using the port 80 or 443.</p>
<p>If you would like to capture the traffic of weblogic (or) Websphere or any application servers. All you have to do is change the port number in which your application server is listening</p>
<p>Though we have given examples for both web and application servers here. All you should be aware of is that. There is nothing specific to technology. We just change the port number (or) interface. That's all.</p>
<h3 id="how-to-capture-all-incoming-http-get-traffic-or-requests">How to capture All incoming HTTP GET traffic (or) requests<a class="headerlink" href="#how-to-capture-all-incoming-http-get-traffic-or-requests" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>tcpdump<span class="w"> </span>-i<span class="w"> </span>wlp0s20f3<span class="w"> </span>-s<span class="w"> </span><span class="m">0</span><span class="w"> </span>-A<span class="w"> </span><span class="s1">&#39;tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x47455420&#39;</span>
</code></pre></div>
<p><strong>Explanation:-</strong></p>
<p><strong><code>tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4]</code></strong> first determines the location of the bytes we are interested in (after the TCP header) and then selects the 4 bytes we wish to match against.</p>
<p>To know more about how this segment syntax has been derived. refer this <a href="https://security.stackexchange.com/questions/121011/wireshark-tcp-filter-tcptcp121-0xf0-24">link</a></p>
<blockquote>
<p>Here <code>0x47455420</code> depicts the ASCII value of characters <code>'G' 'E' 'T' ' '</code></p>
</blockquote>
<table>
<thead>
<tr>
<th>Character</th>
<th>ASCII Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>G</td>
<td>47</td>
</tr>
<tr>
<td>E</td>
<td>45</td>
</tr>
<tr>
<td>T</td>
<td>54</td>
</tr>
<tr>
<td>Space</td>
<td>20</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Refer this <a href="https://www.middlewareinventory.com/ascii-table/">ASCII map table</a> for more reference</p>
</blockquote>
<h3 id="how-to-capture-all-incoming-http-post-requests">How to capture All incoming <strong>HTTP POST</strong> requests<a class="headerlink" href="#how-to-capture-all-incoming-http-post-requests" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>tcpdump<span class="w"> </span>-i<span class="w"> </span>wlp0s20f3<span class="w"> </span>-s<span class="w"> </span><span class="m">0</span><span class="w"> </span>-A<span class="w"> </span><span class="s1">&#39;tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x504F5354&#39;</span>
</code></pre></div>
<p>Here <code>0x504F5354</code> represents the ASCII value of <code>'P' 'O' 'S' 'T'</code></p>
<p><strong>Sample Output</strong></p>
<div class="highlight"><pre><span></span><code>tcpdump<span class="w"> </span>-i<span class="w"> </span>wlp0s20f3<span class="w"> </span>-s<span class="w"> </span><span class="m">0</span><span class="w"> </span>-A<span class="w"> </span><span class="s1">&#39;tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x504F5354&#39;</span>

tcpdump:<span class="w"> </span>verbose<span class="w"> </span>output<span class="w"> </span>suppressed,<span class="w"> </span>use<span class="w"> </span>-v<span class="o">[</span>v<span class="o">]</span>...<span class="w"> </span><span class="k">for</span><span class="w"> </span>full<span class="w"> </span>protocol<span class="w"> </span>decode
listening<span class="w"> </span>on<span class="w"> </span>wlp0s20f3,<span class="w"> </span>link-type<span class="w"> </span>EN10MB<span class="w"> </span><span class="o">(</span>Ethernet<span class="o">)</span>,<span class="w"> </span>snapshot<span class="w"> </span>length<span class="w"> </span><span class="m">262144</span><span class="w"> </span>bytes

<span class="m">13</span>:48:21.019415<span class="w"> </span>IP<span class="w"> </span><span class="m">192</span>.168.31.205.54511<span class="w"> </span>&gt;<span class="w"> </span>wgzhao-laptop.http:<span class="w"> </span>Flags<span class="w"> </span><span class="o">[</span>P.<span class="o">]</span>,<span class="w"> </span>seq<span class="w"> </span><span class="m">952980253</span>:952980331,<span class="w"> </span>ack<span class="w"> </span><span class="m">3271140678</span>,<span class="w"> </span>win<span class="w"> </span><span class="m">2058</span>,<span class="w"> </span>options<span class="w"> </span><span class="o">[</span>nop,nop,TS<span class="w"> </span>val<span class="w"> </span><span class="m">2736792397</span><span class="w"> </span>ecr<span class="w"> </span><span class="m">1034997687</span><span class="o">]</span>,<span class="w"> </span>length<span class="w"> </span><span class="m">78</span>:<span class="w"> </span>HTTP:<span class="w"> </span>POST<span class="w"> </span>/<span class="w"> </span>HTTP/1.1
E.....@.@.z........L...P8.S....F...
&lt;......
.<span class="w"> </span><span class="c1">#M=...POST / HTTP/1.1</span>
Host:<span class="w"> </span>wgzhao-laptop
User-Agent:<span class="w"> </span>curl/7.86.0
Accept:<span class="w"> </span>*/*
</code></pre></div>
<h3 id="how-to-capture-only-http-get-requests-incoming-to-port-80-apachenginx">How to capture only <strong>HTTP GET</strong> requests Incoming to port 80 ( Apache/NGINX)<a class="headerlink" href="#how-to-capture-only-http-get-requests-incoming-to-port-80-apachenginx" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>tcpdump<span class="w"> </span>-i<span class="w"> </span>wlp0s20f3<span class="w"> </span>-s<span class="w"> </span><span class="m">0</span><span class="w"> </span>-A<span class="w"> </span><span class="s1">&#39;tcp dst port 80 and tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x47455420&#39;</span>
</code></pre></div>
<p><strong>Sample Output</strong></p>
<div class="highlight"><pre><span></span><code>tcpdump -i wlp0s20f3 -s 0 -A &#39;tcp dst port 80 and tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x47455420&#39;

tcpdump: verbose output suppressed, use -v[v]... for full protocol decode
listening on wlp0s20f3, link-type EN10MB (Ethernet), snapshot length 262144 bytes
13:52:30.348948 IP 192.168.31.205.57439 &gt; wgzhao-laptop.http: Flags [P.], seq 2517601825:2517601912, ack 3234167917, win 2058, options [nop,nop,TS val 3003354219 ecr 1035247016], length 87: HTTP: GET /index.html HTTP/1.1
E.....@.@.z........L._.P...!..|m...
px.....
...k=...GET /index.html HTTP/1.1
Host: wgzhao-laptop
User-Agent: curl/7.86.0
Accept: */*
</code></pre></div>
<h3 id="how-to-capture-only-http-post-requests-incoming-to-port-80-apachenginx">How to capture only <strong>HTTP</strong> <strong>POST</strong> requests Incoming to port 80 ( Apache/NGINX)<a class="headerlink" href="#how-to-capture-only-http-post-requests-incoming-to-port-80-apachenginx" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>tcpdump<span class="w"> </span>-i<span class="w"> </span>wlp0s20f3<span class="w"> </span>-s<span class="w"> </span><span class="m">0</span><span class="w"> </span>-A<span class="w"> </span><span class="s1">&#39;tcp dst port 80 and tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x504F5354&#39;</span>
</code></pre></div>
<p><strong>Sample Output</strong></p>
<div class="highlight"><pre><span></span><code>tcpdump -i wlp0s20f3 -s 0 -A &#39;tcp dst port 80 and tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x504F5354&#39;

tcpdump: verbose output suppressed, use -v[v]... for full protocol decode
listening on wlp0s20f3, link-type EN10MB (Ethernet), snapshot length 262144 bytes

13:54:03.126400 IP 192.168.31.205.58596 &gt; wgzhao-laptop.http: Flags [P.], seq 207644020:207644108, ack 3869953719, win 2058, options [nop,nop,TS val 1754598356 ecr 1035339794], length 88: HTTP: POST /index.html HTTP/1.1
E.....@.@.z........L...P.`et.......
.b.....
h...=...POST /index.html HTTP/1.1
Host: wgzhao-laptop
User-Agent: curl/7.86.0
Accept: */*
</code></pre></div>
<h3 id="how-to-capture-only-http-get-calls-incoming-to-port-443-apachenginx">How to capture only HTTP GET calls Incoming to port 443 ( Apache/NGINX)<a class="headerlink" href="#how-to-capture-only-http-get-calls-incoming-to-port-443-apachenginx" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>tcpdump<span class="w"> </span>-i<span class="w"> </span>wlp0s20f3<span class="w"> </span>-s<span class="w"> </span><span class="m">0</span><span class="w"> </span>-A<span class="w"> </span><span class="s1">&#39;tcp dst port 443 and tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x47455420&#39;</span>
</code></pre></div>
<h3 id="how-to-capture-only-http-post-calls-incoming-to-port-443-apachenginx">How to capture only HTTP POST calls Incoming to port 443 ( Apache/NGINX)<a class="headerlink" href="#how-to-capture-only-http-post-calls-incoming-to-port-443-apachenginx" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>tcpdump<span class="w"> </span>-i<span class="w"> </span>wlp0s20f3<span class="w"> </span>-s<span class="w"> </span><span class="m">0</span><span class="w"> </span>-A<span class="w"> </span><span class="s1">&#39;tcp dst port 443 and tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x504F5354&#39;</span>
</code></pre></div>
<h3 id="how-to-capture-both-http-get-or-post-incoming-calls-to-port-80-or-443-apachenginx-originating-from-19216831205-host">How to capture both <strong>HTTP GET (or) POST</strong> <strong>Incoming</strong> calls to <strong>port 80 (or) 443</strong> ( Apache/NGINX) Originating from 192.168.31.205 Host**<a class="headerlink" href="#how-to-capture-both-http-get-or-post-incoming-calls-to-port-80-or-443-apachenginx-originating-from-19216831205-host" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>tcpdump<span class="w"> </span>-i<span class="w"> </span>wlp0s20f3<span class="w"> </span>-s<span class="w"> </span><span class="m">0</span><span class="w"> </span>-A<span class="w"> </span><span class="s1">&#39;tcp dst port 80 or tcp dst port 443 and tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x47455420 or tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x504F5354 and host 192.168.31.205&#39;</span>

tcpdump:<span class="w"> </span>verbose<span class="w"> </span>output<span class="w"> </span>suppressed,<span class="w"> </span>use<span class="w"> </span>-v<span class="o">[</span>v<span class="o">]</span>...<span class="w"> </span><span class="k">for</span><span class="w"> </span>full<span class="w"> </span>protocol<span class="w"> </span>decode
listening<span class="w"> </span>on<span class="w"> </span>wlp0s20f3,<span class="w"> </span>link-type<span class="w"> </span>EN10MB<span class="w"> </span><span class="o">(</span>Ethernet<span class="o">)</span>,<span class="w"> </span>snapshot<span class="w"> </span>length<span class="w"> </span><span class="m">262144</span><span class="w"> </span>bytes
<span class="m">13</span>:59:31.404400<span class="w"> </span>IP<span class="w"> </span><span class="m">192</span>.168.31.205.62507<span class="w"> </span>&gt;<span class="w"> </span>wgzhao-laptop.http:<span class="w"> </span>Flags<span class="w"> </span><span class="o">[</span>P.<span class="o">]</span>,<span class="w"> </span>seq<span class="w"> </span><span class="m">3732089400</span>:3732089488,<span class="w"> </span>ack<span class="w"> </span><span class="m">1222075730</span>,<span class="w"> </span>win<span class="w"> </span><span class="m">2058</span>,<span class="w"> </span>options<span class="w"> </span><span class="o">[</span>nop,nop,TS<span class="w"> </span>val<span class="w"> </span><span class="m">783516821</span><span class="w"> </span>ecr<span class="w"> </span><span class="m">1035668072</span><span class="o">]</span>,<span class="w"> </span>length<span class="w"> </span><span class="m">88</span>:<span class="w"> </span>HTTP:<span class="w"> </span>POST<span class="w"> </span>/index.html<span class="w"> </span>HTTP/1.1
E.....@.@.z........L.+.P.s*8H.eR...
.C.....
....<span class="o">=</span>.
hPOST<span class="w"> </span>/index.html<span class="w"> </span>HTTP/1.1
Host:<span class="w"> </span>wgzhao-laptop
User-Agent:<span class="w"> </span>curl/7.86.0
Accept:<span class="w"> </span>*/*


<span class="m">13</span>:59:36.729382<span class="w"> </span>IP<span class="w"> </span><span class="m">192</span>.168.31.205.62568<span class="w"> </span>&gt;<span class="w"> </span>wgzhao-laptop.http:<span class="w"> </span>Flags<span class="w"> </span><span class="o">[</span>P.<span class="o">]</span>,<span class="w"> </span>seq<span class="w"> </span><span class="m">1815931667</span>:1815931754,<span class="w"> </span>ack<span class="w"> </span><span class="m">1237652196</span>,<span class="w"> </span>win<span class="w"> </span><span class="m">2058</span>,<span class="w"> </span>options<span class="w"> </span><span class="o">[</span>nop,nop,TS<span class="w"> </span>val<span class="w"> </span><span class="m">3905580542</span><span class="w"> </span>ecr<span class="w"> </span><span class="m">1035673396</span><span class="o">]</span>,<span class="w"> </span>length<span class="w"> </span><span class="m">87</span>:<span class="w"> </span>HTTP:<span class="w"> </span>GET<span class="w"> </span>/index.html<span class="w"> </span>HTTP/1.1
E.....@.@.z........L.h.Pl&lt;..I......
p......
..m.<span class="o">=</span>..4GET<span class="w"> </span>/index.html<span class="w"> </span>HTTP/1.1
Host:<span class="w"> </span>wgzhao-laptop
User-Agent:<span class="w"> </span>curl/7.86.0
Accept:<span class="w"> </span>*/*
</code></pre></div>
<h3 id="how-to-capture-a-complete-http-transmission-incoming-and-outgoing-get-and-post">How to capture a Complete HTTP Transmission incoming and outgoing GET and POST<a class="headerlink" href="#how-to-capture-a-complete-http-transmission-incoming-and-outgoing-get-and-post" title="Permanent link">&para;</a></h3>
<p>Let's suppose I access a page hosted in <code>192.168.31.76</code> web server from my base machine with ip address <code>192.168.31.205.</code> using both GET and POST methods. How do we track the HTTP request and response between the server and the client</p>
<div class="highlight"><pre><span></span><code>tcpdump<span class="w"> </span>-i<span class="w"> </span>wlp0s20f3<span class="w"> </span>-s<span class="w"> </span><span class="m">0</span><span class="w"> </span>-A<span class="w"> </span><span class="s1">&#39;tcp dst port 80 and tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x47455420 or tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x504F5354 or tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x48545450 or tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x3C21444F and host 192.168.31.205&#39;</span>
</code></pre></div>
<p>Here additionally, we are using two more ASCII values to capture the outgoing HTML files and HTTP calls they are as follows.</p>
<p><code>0x3C21444F</code> represents the ASCII value of <code>'&lt;' 'D' 'O' 'C'</code> this is to capture the outgoing HTML file</p>
<p><code>0x48545450</code> represents the ASCII value of <code>'H' 'T' 'T' 'P'</code> this is to capture the outgoing HTTP traffic (HTTP response)</p>
<p><strong>Trying with GET</strong></p>
<div class="highlight"><pre><span></span><code>tcpdump<span class="w"> </span>-i<span class="w"> </span>wlp0s20f3<span class="w"> </span>-s<span class="w"> </span><span class="m">0</span><span class="w"> </span>-A<span class="w"> </span><span class="s1">&#39;tcp dst port 80 and tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x47455420 or tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x504F5354 or tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x48545450 or tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x3C21444F and host 192.168.31.205&#39;</span>

tcpdump:<span class="w"> </span>verbose<span class="w"> </span>output<span class="w"> </span>suppressed,<span class="w"> </span>use<span class="w"> </span>-v<span class="o">[</span>v<span class="o">]</span>...<span class="w"> </span><span class="k">for</span><span class="w"> </span>full<span class="w"> </span>protocol<span class="w"> </span>decode
listening<span class="w"> </span>on<span class="w"> </span>wlp0s20f3,<span class="w"> </span>link-type<span class="w"> </span>EN10MB<span class="w"> </span><span class="o">(</span>Ethernet<span class="o">)</span>,<span class="w"> </span>snapshot<span class="w"> </span>length<span class="w"> </span><span class="m">262144</span><span class="w"> </span>bytes


<span class="m">14</span>:06:37.059470<span class="w"> </span>IP<span class="w"> </span><span class="m">192</span>.168.31.205.51047<span class="w"> </span>&gt;<span class="w"> </span>wgzhao-laptop.http:<span class="w"> </span>Flags<span class="w"> </span><span class="o">[</span>P.<span class="o">]</span>,<span class="w"> </span>seq<span class="w"> </span><span class="m">4216390795</span>:4216390882,<span class="w"> </span>ack<span class="w"> </span><span class="m">769730052</span>,<span class="w"> </span>win<span class="w"> </span><span class="m">2058</span>,<span class="w"> </span>options<span class="w"> </span><span class="o">[</span>nop,nop,TS<span class="w"> </span>val<span class="w"> </span><span class="m">905239047</span><span class="w"> </span>ecr<span class="w"> </span><span class="m">1036093728</span><span class="o">]</span>,<span class="w"> </span>length<span class="w"> </span><span class="m">87</span>:<span class="w"> </span>HTTP:<span class="w"> </span>GET<span class="w"> </span>/index.html<span class="w"> </span>HTTP/1.1
E.....@.@.z........L.g.P.Q..-.<span class="p">&amp;</span>....
.......
<span class="m">5</span>...<span class="o">=</span>..<span class="w"> </span>GET<span class="w"> </span>/index.html<span class="w"> </span>HTTP/1.1
Host:<span class="w"> </span>wgzhao-laptop
User-Agent:<span class="w"> </span>curl/7.86.0
Accept:<span class="w"> </span>*/*


<span class="m">14</span>:06:37.059885<span class="w"> </span>IP<span class="w"> </span>wgzhao-laptop.http<span class="w"> </span>&gt;<span class="w"> </span><span class="m">192</span>.168.31.205.51047:<span class="w"> </span>Flags<span class="w"> </span><span class="o">[</span>P.<span class="o">]</span>,<span class="w"> </span>seq<span class="w"> </span><span class="m">1</span>:863,<span class="w"> </span>ack<span class="w"> </span><span class="m">87</span>,<span class="w"> </span>win<span class="w"> </span><span class="m">128</span>,<span class="w"> </span>options<span class="w"> </span><span class="o">[</span>nop,nop,TS<span class="w"> </span>val<span class="w"> </span><span class="m">1036093732</span><span class="w"> </span>ecr<span class="w"> </span><span class="m">905239047</span><span class="o">]</span>,<span class="w"> </span>length<span class="w"> </span><span class="m">862</span>:<span class="w"> </span>HTTP:<span class="w"> </span>HTTP/1.1<span class="w"> </span><span class="m">200</span><span class="w"> </span>OK
E.....@.@._!...L.....P.g-.<span class="p">&amp;</span>..Q.............
<span class="o">=</span>..<span class="nv">$5</span>...HTTP/1.1<span class="w"> </span><span class="m">200</span><span class="w"> </span>OK
Server:<span class="w"> </span>nginx/1.22.0<span class="w"> </span><span class="o">(</span>Ubuntu<span class="o">)</span>
Date:<span class="w"> </span>Wed,<span class="w"> </span><span class="m">22</span><span class="w"> </span>Mar<span class="w"> </span><span class="m">2023</span><span class="w"> </span><span class="m">06</span>:06:37<span class="w"> </span>GMT
Content-Type:<span class="w"> </span>text/html
Content-Length:<span class="w"> </span><span class="m">615</span>
Last-Modified:<span class="w"> </span>Wed,<span class="w"> </span><span class="m">22</span><span class="w"> </span>Mar<span class="w"> </span><span class="m">2023</span><span class="w"> </span><span class="m">05</span>:44:43<span class="w"> </span>GMT
Connection:<span class="w"> </span>keep-alive
ETag:<span class="w"> </span><span class="s2">&quot;641a95cb-267&quot;</span>
Accept-Ranges:<span class="w"> </span>bytes

&lt;!DOCTYPE<span class="w"> </span>html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Welcome<span class="w"> </span>to<span class="w"> </span>nginx!&lt;/title&gt;
&lt;style&gt;
html<span class="w"> </span><span class="o">{</span><span class="w"> </span>color-scheme:<span class="w"> </span>light<span class="w"> </span>dark<span class="p">;</span><span class="w"> </span><span class="o">}</span>
body<span class="w"> </span><span class="o">{</span><span class="w"> </span>width:<span class="w"> </span>35em<span class="p">;</span><span class="w"> </span>margin:<span class="w"> </span><span class="m">0</span><span class="w"> </span>auto<span class="p">;</span>
font-family:<span class="w"> </span>Tahoma,<span class="w"> </span>Verdana,<span class="w"> </span>Arial,<span class="w"> </span>sans-serif<span class="p">;</span><span class="w"> </span><span class="o">}</span>
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Welcome<span class="w"> </span>to<span class="w"> </span>nginx!&lt;/h1&gt;
&lt;p&gt;If<span class="w"> </span>you<span class="w"> </span>see<span class="w"> </span>this<span class="w"> </span>page,<span class="w"> </span>the<span class="w"> </span>nginx<span class="w"> </span>web<span class="w"> </span>server<span class="w"> </span>is<span class="w"> </span>successfully<span class="w"> </span>installed<span class="w"> </span>and
working.<span class="w"> </span>Further<span class="w"> </span>configuration<span class="w"> </span>is<span class="w"> </span>required.&lt;/p&gt;

&lt;p&gt;For<span class="w"> </span>online<span class="w"> </span>documentation<span class="w"> </span>and<span class="w"> </span>support<span class="w"> </span>please<span class="w"> </span>refer<span class="w"> </span>to
&lt;a<span class="w"> </span><span class="nv">href</span><span class="o">=</span><span class="s2">&quot;http://nginx.org/&quot;</span>&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;
Commercial<span class="w"> </span>support<span class="w"> </span>is<span class="w"> </span>available<span class="w"> </span>at
&lt;a<span class="w"> </span><span class="nv">href</span><span class="o">=</span><span class="s2">&quot;http://nginx.com/&quot;</span>&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Thank<span class="w"> </span>you<span class="w"> </span><span class="k">for</span><span class="w"> </span>using<span class="w"> </span>nginx.&lt;/em&gt;&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre></div>
<p><strong>Trying with POST</strong></p>
<div class="highlight"><pre><span></span><code>tcpdump<span class="w"> </span>-i<span class="w"> </span>wlp0s20f3<span class="w"> </span>-s<span class="w"> </span><span class="m">0</span><span class="w"> </span>-A<span class="w"> </span><span class="s1">&#39;tcp dst port 80 and tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x47455420 or tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x504F5354 or tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x48545450 or tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x3C21444F and host 192.168.31.205&#39;</span>

<span class="m">14</span>:09:16.523346<span class="w"> </span>IP<span class="w"> </span><span class="m">192</span>.168.31.205.52920<span class="w"> </span>&gt;<span class="w"> </span>wgzhao-laptop.http:<span class="w"> </span>Flags<span class="w"> </span><span class="o">[</span>P.<span class="o">]</span>,<span class="w"> </span>seq<span class="w"> </span><span class="m">1264301850</span>:1264301928,<span class="w"> </span>ack<span class="w"> </span><span class="m">2774851506</span>,<span class="w"> </span>win<span class="w"> </span><span class="m">2058</span>,<span class="w"> </span>options<span class="w"> </span><span class="o">[</span>nop,nop,TS<span class="w"> </span>val<span class="w"> </span><span class="m">1964671602</span><span class="w"> </span>ecr<span class="w"> </span><span class="m">1036253191</span><span class="o">]</span>,<span class="w"> </span>length<span class="w"> </span><span class="m">78</span>:<span class="w"> </span>HTTP:<span class="w"> </span>POST<span class="w"> </span>/<span class="w"> </span>HTTP/1.1
E.....@.@.z........L...PK<span class="o">[</span>...d.....
U......
u..r<span class="o">=</span>...POST<span class="w"> </span>/<span class="w"> </span>HTTP/1.1
Host:<span class="w"> </span>wgzhao-laptop
User-Agent:<span class="w"> </span>curl/7.86.0
Accept:<span class="w"> </span>*/*


<span class="m">14</span>:09:16.523609<span class="w"> </span>IP<span class="w"> </span>wgzhao-laptop.http<span class="w"> </span>&gt;<span class="w"> </span><span class="m">192</span>.168.31.205.52920:<span class="w"> </span>Flags<span class="w"> </span><span class="o">[</span>P.<span class="o">]</span>,<span class="w"> </span>seq<span class="w"> </span><span class="m">1</span>:333,<span class="w"> </span>ack<span class="w"> </span><span class="m">78</span>,<span class="w"> </span>win<span class="w"> </span><span class="m">128</span>,<span class="w"> </span>options<span class="w"> </span><span class="o">[</span>nop,nop,TS<span class="w"> </span>val<span class="w"> </span><span class="m">1036253196</span><span class="w"> </span>ecr<span class="w"> </span><span class="m">1964671602</span><span class="o">]</span>,<span class="w"> </span>length<span class="w"> </span><span class="m">332</span>:<span class="w"> </span>HTTP:<span class="w"> </span>HTTP/1.1<span class="w"> </span><span class="m">405</span><span class="w"> </span>Not<span class="w"> </span>Allowed
E....K@.@......L.....P...d..K<span class="o">[</span>.h...........
<span class="o">=</span>...u..rHTTP/1.1<span class="w"> </span><span class="m">405</span><span class="w"> </span>Not<span class="w"> </span>Allowed
Server:<span class="w"> </span>nginx/1.22.0<span class="w"> </span><span class="o">(</span>Ubuntu<span class="o">)</span>
Date:<span class="w"> </span>Wed,<span class="w"> </span><span class="m">22</span><span class="w"> </span>Mar<span class="w"> </span><span class="m">2023</span><span class="w"> </span><span class="m">06</span>:09:16<span class="w"> </span>GMT
Content-Type:<span class="w"> </span>text/html
Content-Length:<span class="w"> </span><span class="m">166</span>
Connection:<span class="w"> </span>keep-alive

&lt;html&gt;
&lt;head&gt;&lt;title&gt;405<span class="w"> </span>Not<span class="w"> </span>Allowed&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
&lt;center&gt;&lt;h1&gt;405<span class="w"> </span>Not<span class="w"> </span>Allowed&lt;/h1&gt;&lt;/center&gt;
&lt;hr&gt;&lt;center&gt;nginx/1.22.0<span class="w"> </span><span class="o">(</span>Ubuntu<span class="o">)</span>&lt;/center&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre></div>
<p>In the preceding illustrations, you can see the output of tcpdump command  shows the <strong>REQUEST and RESPONSE</strong> data along with the <strong>HTML code</strong>. </p>
<h3 id="how-to-monitor-all-the-incoming-http-request-urls-post-or-get">How to monitor all the incoming HTTP Request URL's (POST or GET)<a class="headerlink" href="#how-to-monitor-all-the-incoming-http-request-urls-post-or-get" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>tcpdump<span class="w"> </span>-i<span class="w"> </span>wlp0s20f3<span class="w"> </span>-s<span class="w"> </span><span class="m">0</span><span class="w"> </span>-v<span class="w"> </span>-n<span class="w"> </span>-l<span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;POST /|GET /|Host:&quot;</span>
</code></pre></div>
<h3 id="how-to-capture-http-passwords-in-post-requests">How to capture HTTP Passwords in POST Requests<a class="headerlink" href="#how-to-capture-http-passwords-in-post-requests" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>tcpdump<span class="w"> </span>-i<span class="w"> </span>wlp0s20f3<span class="w"> </span>-s<span class="w"> </span><span class="m">0</span><span class="w"> </span>-A<span class="w"> </span>-n<span class="w"> </span>-l<span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;POST /|pwd=|passwd=|password=|Host:&quot;</span>
</code></pre></div>
<h3 id="how-to-capture-the-cookies-from-server-and-from-client-request-response">How to capture the Cookies from Server and from Client ( Request &amp; Response)<a class="headerlink" href="#how-to-capture-the-cookies-from-server-and-from-client-request-response" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>tcpdump<span class="w"> </span>-i<span class="w"> </span>wlp0s20f3<span class="w"> </span>-nn<span class="w"> </span>-A<span class="w"> </span>-s0<span class="w"> </span>-l<span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;Set-Cookie|Host:|Cookie:&#39;</span>
</code></pre></div>
<h2 id="how-to-filter-http-user-agents">How to Filter HTTP User Agents<a class="headerlink" href="#how-to-filter-http-user-agents" title="Permanent link">&para;</a></h2>
<p>Extract HTTP User Agent from HTTP request header.</p>
<div class="highlight"><pre><span></span><code>tcpdump<span class="w"> </span>-vvAls0<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s1">&#39;User-Agent:&#39;</span>
</code></pre></div>
<h2 id="how-to-capture-the-http-packets-being-transmitted-between-webserver-and-application-server-both-get-post">How to capture the HTTP packets being transmitted between Webserver and Application server both GET &amp; POST?<a class="headerlink" href="#how-to-capture-the-http-packets-being-transmitted-between-webserver-and-application-server-both-get-post" title="Permanent link">&para;</a></h2>
<p>In cases, where you have check the HTTP traffic between webserver and application server. you can use tcpdump to diagnose and troubleshoot the issue. It will be helpful for many middleware administrators.</p>
<p>Let's suppose this is your environment</p>
<table>
<thead>
<tr>
<th>Backend Server IP</th>
<th>192.168.31.76</th>
</tr>
</thead>
<tbody>
<tr>
<td>Nginx Server IP</td>
<td>192.168.31.205</td>
</tr>
<tr>
<td>Nginx Server Port</td>
<td>8080</td>
</tr>
</tbody>
</table>
<p>You can run the following command at the application server to accomplish your requirement</p>
<div class="highlight"><pre><span></span><code>tcpdump<span class="w"> </span>-i<span class="w"> </span>any<span class="w"> </span>-s<span class="w"> </span><span class="m">0</span><span class="w"> </span>-A<span class="w"> </span><span class="s1">&#39;tcp dst port 8080 and tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x47455420 or tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x504F5354 or tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x48545450 or tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x3C21444F and host 192.168.31.76&#39;</span>
</code></pre></div>
<h3 id="how-to-capture-a-complete-http-transmission-with-tcpdump-get-post-on-specific-port">How to capture a Complete HTTP Transmission with TCPDUMP ( GET &amp; POST) on specific port<a class="headerlink" href="#how-to-capture-a-complete-http-transmission-with-tcpdump-get-post-on-specific-port" title="Permanent link">&para;</a></h3>
<p>All the examples we have given above can be used for weblogic with just a little change in port number. However. we are giving an example here.</p>
<p>Here we are going to make a call from the client with up <code>192.168.31.205</code> to our  Application using GET and POST methods and capture the HTTP traffic data at the server end</p>
<div class="highlight"><pre><span></span><code>tcpdump<span class="w"> </span>-i<span class="w"> </span>wlp0s20f3<span class="w"> </span>-s<span class="w"> </span><span class="m">0</span><span class="w"> </span>-A<span class="w"> </span><span class="s1">&#39;tcp dst port 18001 and tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x47455420 or tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x504F5354 or tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x48545450 or tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x3C21444F and host 192.168.31.76&#39;</span>
</code></pre></div>
<p>Sample Output</p>
<p>**Request from **<code>192.168.31.205</code> **using **<code>curl -v</code></p>
<div class="highlight"><pre><span></span><code><span class="w"> </span>curl<span class="w"> </span>-v<span class="w"> </span>-XPOST<span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot;hello&quot;</span><span class="w">  </span>http://localhost:8080/server
<span class="w"> </span>Unnecessary<span class="w"> </span>use<span class="w"> </span>of<span class="w"> </span>-X<span class="w"> </span>or<span class="w"> </span>--request,<span class="w"> </span>POST<span class="w"> </span>is<span class="w"> </span>already<span class="w"> </span>inferred.
*<span class="w">   </span>Trying<span class="w"> </span><span class="m">127</span>.0.0.1:8080...
*<span class="w"> </span>Connected<span class="w"> </span>to<span class="w"> </span>localhost<span class="w"> </span><span class="o">(</span><span class="m">127</span>.0.0.1<span class="o">)</span><span class="w"> </span>port<span class="w"> </span><span class="m">8080</span><span class="w"> </span><span class="o">(</span><span class="c1">#0)</span>
&gt;<span class="w"> </span>POST<span class="w"> </span>/server<span class="w"> </span>HTTP/1.1
&gt;<span class="w"> </span>Host:<span class="w"> </span>localhost:8080
&gt;<span class="w"> </span>User-Agent:<span class="w"> </span>curl/7.86.0
&gt;<span class="w"> </span>Accept:<span class="w"> </span>*/*
&gt;<span class="w"> </span>Content-Length:<span class="w"> </span><span class="m">5</span>
&gt;<span class="w"> </span>Content-Type:<span class="w"> </span>application/x-www-form-urlencoded
&gt;
*<span class="w"> </span>Mark<span class="w"> </span>bundle<span class="w"> </span>as<span class="w"> </span>not<span class="w"> </span>supporting<span class="w"> </span>multiuse
&lt;<span class="w"> </span>HTTP/1.1<span class="w"> </span><span class="m">200</span><span class="w"> </span>OK
&lt;<span class="w"> </span>Server:<span class="w"> </span>nginx/1.23.3
&lt;<span class="w"> </span>Date:<span class="w"> </span>Wed,<span class="w"> </span><span class="m">22</span><span class="w"> </span>Mar<span class="w"> </span><span class="m">2023</span><span class="w"> </span><span class="m">06</span>:34:08<span class="w"> </span>GMT
&lt;<span class="w"> </span>Transfer-Encoding:<span class="w"> </span>chunked
&lt;<span class="w"> </span>Connection:<span class="w"> </span>keep-alive
&lt;
*<span class="w"> </span>Connection<span class="w"> </span><span class="c1">#0 to host localhost left intact</span>
Received<span class="w"> </span>POST<span class="w"> </span>request<span class="w"> </span>with<span class="w"> </span>data:<span class="w"> </span>hello%
</code></pre></div>
<p><strong>Response</strong></p>
<div class="highlight"><pre><span></span><code>tcpdump<span class="w"> </span>-i<span class="w"> </span>wlp0s20f3<span class="w"> </span>-s<span class="w"> </span><span class="m">0</span><span class="w"> </span>-A<span class="w"> </span><span class="s1">&#39;tcp dst port 18001 and tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x47455420 or tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x504F5354 or tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x48545450 or tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x3C21444F and host 192.168.31.76&#39;</span>

tcpdump:<span class="w"> </span>verbose<span class="w"> </span>output<span class="w"> </span>suppressed,<span class="w"> </span>use<span class="w"> </span>-v<span class="o">[</span>v<span class="o">]</span>...<span class="w"> </span><span class="k">for</span><span class="w"> </span>full<span class="w"> </span>protocol<span class="w"> </span>decode
listening<span class="w"> </span>on<span class="w"> </span>wlp0s20f3,<span class="w"> </span>link-type<span class="w"> </span>EN10MB<span class="w"> </span><span class="o">(</span>Ethernet<span class="o">)</span>,<span class="w"> </span>snapshot<span class="w"> </span>length<span class="w"> </span><span class="m">262144</span><span class="w"> </span>bytes

<span class="m">14</span>:35:08.235142<span class="w"> </span>IP<span class="w"> </span><span class="m">192</span>.168.31.205.54678<span class="w"> </span>&gt;<span class="w"> </span>wgzhao-laptop.8888:<span class="w"> </span>Flags<span class="w"> </span><span class="o">[</span>P.<span class="o">]</span>,<span class="w"> </span>seq<span class="w"> </span><span class="m">3387431051</span>:3387431226,<span class="w"> </span>ack<span class="w"> </span><span class="m">2818253595</span>,<span class="w"> </span>win<span class="w"> </span><span class="m">2058</span>,<span class="w"> </span>options<span class="w"> </span><span class="o">[</span>nop,nop,TS<span class="w"> </span>val<span class="w"> </span><span class="m">1305195002</span><span class="w"> </span>ecr<span class="w"> </span><span class="m">1037804904</span><span class="o">]</span>,<span class="w"> </span>length<span class="w"> </span><span class="m">175</span>
E.....@.@.y........L..<span class="s2">&quot;.......#....</span>
<span class="s2">.......</span>
<span class="s2">M...=..hPOST / HTTP/1.0</span>
<span class="s2">Host: 192.168.31.76:8888</span>
<span class="s2">Connection: close</span>
<span class="s2">Content-Length: 5</span>
<span class="s2">User-Agent: curl/7.86.0</span>
<span class="s2">Accept: */*</span>
<span class="s2">Content-Type: application/x-www-form-urlencoded</span>

<span class="s2">hello</span>
<span class="s2">14:35:08.235550 IP wgzhao-laptop.8888 &gt; 192.168.31.205.54678: Flags [P.], seq 1:95, ack 175, win 131, options [nop,nop,TS val 1037804908 ecr 1305195002], length 94</span>
<span class="s2">E...g.@.@..:...L....&quot;</span>.....#....:...........
<span class="o">=</span>..lM...HTTP/1.0<span class="w"> </span><span class="m">200</span><span class="w"> </span>OK
Server:<span class="w"> </span>SimpleHTTP/0.6<span class="w"> </span>Python/3.10.7
Date:<span class="w"> </span>Wed,<span class="w"> </span><span class="m">22</span><span class="w"> </span>Mar<span class="w"> </span><span class="m">2023</span><span class="w"> </span><span class="m">06</span>:35:08<span class="w"> </span>GMT

<span class="m">14</span>:35:26.047089<span class="w"> </span>IP<span class="w"> </span>blackcat.canonical.com.http<span class="w"> </span>&gt;<span class="w"> </span>wgzhao-laptop.24674:<span class="w"> </span>Flags<span class="w"> </span><span class="o">[</span>P.<span class="o">]</span>,<span class="w"> </span>seq<span class="w"> </span><span class="m">1899838163</span>:1899838310,<span class="w"> </span>ack<span class="w"> </span><span class="m">531714235</span>,<span class="w"> </span>win<span class="w"> </span><span class="m">453</span>,<span class="w"> </span>options<span class="w"> </span><span class="o">[</span>nop,nop,TS<span class="w"> </span>val<span class="w"> </span><span class="m">302839182</span><span class="w"> </span>ecr<span class="w"> </span><span class="m">3954227041</span><span class="o">]</span>,<span class="w"> </span>length<span class="w"> </span><span class="m">147</span>:<span class="w"> </span>HTTP:<span class="w"> </span>HTTP/1.1<span class="w"> </span><span class="m">204</span><span class="w"> </span>No<span class="w"> </span>Content
E.....@.@..a<span class="o">[</span>.<span class="o">[</span><span class="m">1</span>...L.P<span class="sb">`</span><span class="nv">bq</span><span class="o">=</span>:...P.....1......
.......aHTTP/1.1<span class="w"> </span><span class="m">204</span><span class="w"> </span>No<span class="w"> </span>Content
server:<span class="w"> </span>nginx/1.14.0<span class="w"> </span><span class="o">(</span>Ubuntu<span class="o">)</span>
date:<span class="w"> </span>Wed,<span class="w"> </span><span class="m">22</span><span class="w"> </span>Mar<span class="w"> </span><span class="m">2023</span><span class="w"> </span><span class="m">06</span>:35:25<span class="w"> </span>GMT
x-networkmanager-status:<span class="w"> </span>online
connection:<span class="w"> </span>close
</code></pre></div>
<h3 id="how-to-record-a-tcpdump-session-or-capture-packets-with-tcpdump">How to record a TCPDUMP Session (or) Capture packets with tcpdump<a class="headerlink" href="#how-to-record-a-tcpdump-session-or-capture-packets-with-tcpdump" title="Permanent link">&para;</a></h3>
<p>To record the tcpdump session, you can use the following command</p>
<p><strong>Note:</strong> here I have used any as an interface to capture all the packets across all the channels/interfaces available in my server</p>
<div class="highlight"><pre><span></span><code>tcpdump<span class="w"> </span>-i<span class="w"> </span>any<span class="w"> </span>-s<span class="w"> </span><span class="m">0</span><span class="w"> </span>-X<span class="w"> </span>-w<span class="w"> </span>/tmp/tcpdump.pcap
</code></pre></div>
<p><code>pcap</code> is a widely accepted extension for the tcpdump output.</p>
<h3 id="how-to-read-the-tcpdump-recorded-session-or-packet-capture-pcap-file">How to read the TCPDUMP recorded session (or) packet capture - pcap file<a class="headerlink" href="#how-to-read-the-tcpdump-recorded-session-or-packet-capture-pcap-file" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>tcpdump<span class="w"> </span>-A<span class="w"> </span>-r<span class="w"> </span>/tmp/tcpdump.pcap
</code></pre></div>
<p>This way. you would be able to read the recorded session and it will offer more information than the ASCII matching commands.</p>
<p>You can also use commands like <code>less</code> for better readability and search.</p>
<div class="highlight"><pre><span></span><code>tcpdump<span class="w"> </span>-A<span class="w"> </span>-r<span class="w"> </span>/tmp/tcpdump.pcap<span class="p">|</span>less
</code></pre></div>







  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; wgzhao
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/01mlsx" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/wgzhao" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.indexes", "navigation.expand", "content.code.annotate", "content.tabs.link", "navigation.top", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "header.autohide", "announce.dismiss", "toc.integrate"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5090c770.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
        <script src="https://cdn.jsdelivr.net/gh/rod2ik/cdn@main/mkdocs/javascripts/mkdocs-graphviz.js"></script>
      
    
  </body>
</html>