
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="记录日常工作、学习的一些文档，收藏看到好的资源等">
      
      
        <meta name="author" content="wgzhao">
      
      
        <link rel="canonical" href="https://wgzhao.github.io/notes/misc/git-from-zero-to-hero/">
      
      
        <link rel="prev" href="../Latex%20Math%20Symbols/">
      
      
        <link rel="next" href="../gitlab-ci-configuration/">
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS 订阅" href="../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="已更新内容的 RSS 订阅" href="../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.1">
    
    
      
        <title>Git从入门到应付日常工作 - 个人笔记</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a40c8224.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#git" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="个人笔记" class="md-header__button md-logo" aria-label="个人笔记" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            个人笔记
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Git从入门到应付日常工作
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/wgzhao/notes" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    wgzhao/notes
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../tags/" class="md-tabs__link">
        
  
    
  
  Tags

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../bigdata/ambari-cli/" class="md-tabs__link">
          
  
    
  
  Bigdata

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../courses/commands-in-sbin/" class="md-tabs__link">
          
  
    
  
  Courses

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../database/maridb-ax-setup/" class="md-tabs__link">
          
  
    
  
  Database

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../kubernetes/access-k8s-pod-from-outersider/" class="md-tabs__link">
          
  
    
  
  Kubernetes

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../Latex%20Math%20Symbols/" class="md-tabs__link">
          
  
    
  
  Misc

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../programming/design-restful-api-with-python-and-flask/" class="md-tabs__link">
          
  
    
  
  Programming

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../tips/bash-tips/" class="md-tabs__link">
          
  
    
  
  Tips

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../troubleshooting/capture-http-requests-with-tcpdump/" class="md-tabs__link">
          
  
    
  
  Troubleshooting

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="个人笔记" class="md-nav__button md-logo" aria-label="个人笔记" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    个人笔记
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/wgzhao/notes" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    wgzhao/notes
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tags
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Bigdata
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Bigdata
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bigdata/ambari-cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    使用 Ambari API 来操作 Hadoop 集群
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bigdata/flink-cdc-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flink SQL CDC 实践以及一致性分析
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bigdata/integrating-hive-with-spark/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrating Apache Hive with Apache Spark
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bigdata/integrating-phoenix-with-kerberos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Phoenix 集成 HBase 并支持 Kerberos 认证
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bigdata/ipa-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    free IPA setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bigdata/kerberos-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MIT Kerberos  安装及维护手册
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bigdata/mafengwo-warehouse-design-and-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    马蜂窝数据仓库设计与实践
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bigdata/presto-with-ssl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Presto SSL 配置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bigdata/zookeeper-optimize/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    zookeeper集群应对万级并发的调优
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Courses
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Courses
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/commands-in-sbin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linux 命令学习
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/linux-cfs-scheduler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linux CFS 调度器：原理、设计与内核实现
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/pg9_high_performance_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    《PostgreSQL 9 High Performance》读书笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Mysql lecture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Mysql lecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/mysql-lecture/mysql-practices-lecture-45-1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    《MySQL 实战45讲》节选第一部分
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/mysql-lecture/mysql-practices-lecture-45-2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    《MySQL 实战45讲》节选第二部分
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/mysql-lecture/mysql-practices-lecture-45-3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    《MySQL 实战45讲》节选第三部分
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/mysql-lecture/mysql-practices-lecture-45-4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    《MySQL 实战45讲》节选第四部分
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/mysql-lecture/mysql-practices-lecture-45-5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    《MySQL 实战45讲》节选第五部分
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Time series analysis
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            Time series analysis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/time-series-analysis/01-basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基础篇
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/time-series-analysis/02-primer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    初级篇
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/time-series-analysis/03-advance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    进阶篇
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/time-series-analysis/04-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    应用篇
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../courses/time-series-analysis/05-complete/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    补完篇
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Database
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Database
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/maridb-ax-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MariaDB AX 安装测试简记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/mysql-cluster-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MySQL Cluster 配置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/oracle-11g-imp-and-exp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Oracle 11g 导入导出基本操作
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/oracle-silent-installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Oracle 静默安装
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/percona-cluster-with-haproxy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HAProxy + Percona XtraDB Cluster 部署
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/setup-a-clickhouse-cluster-on-one-node/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    在一个节点上部署 ClickHouse 集群
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/why-mysql8-slower-than-mysql57/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    默认配置下，为什么 MySQL 8.0 比 MySQL 5.7 慢
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Kubernetes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Kubernetes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/access-k8s-pod-from-outersider/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    外部机器如何直接直接访问 kubernetes 集群内服务
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/calico-node-troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Calico Node 无法启动的排查
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/collect-k8s-log-with-filebeat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基于 ELK 的 日志收集与自动索引创建
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/coredns-support-hosts-file/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CoreDNS 支持解析宿主机的 hosts 文件
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/deep-dive-into-k8s-internals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    用奇怪的方式构建简单 k8s 集群
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/how-to-create-user-for-k8s-dashboard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    在 Kubernetes Dashboard 创建基于 RBAC 的授权用户
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/kubernetes-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    使用 kubeadm 安装 kubernetes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/take-flannel-to-calico/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migrate kubernetes cluster from Flannel to Calico
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Misc
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Misc
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Latex%20Math%20Symbols/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    用于 LateX 的数学符号
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Git从入门到应付日常工作
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Git从入门到应付日常工作
    
  </span>
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#git_1" class="md-nav__link">
    <span class="md-ellipsis">
      Git概述
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#git_2" class="md-nav__link">
    <span class="md-ellipsis">
      Git 是一个开源的 分布式版本控制系统 。
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gitlab-ci-configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    gitlab-ci.yml 详解
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osint-introduce/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    超级情报手机工具库：开源验证和调查工具及使用方法
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Programming
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Programming
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../programming/design-restful-api-with-python-and-flask/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    使用 Python 和 Flask 设计 RESTful API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../programming/programming-with-vim/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    无插件Vim编程技巧
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../programming/pure-bash-bible/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pure Bash Bible
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../programming/understanding-awk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Understanding AWK
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tips
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Tips
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/bash-tips/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BASH 的一些技巧
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/batch-convert-word-to-pdf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Windows 下批量转换 word 文档为 pdf 的方法
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/change-keyboard-layout-in-ubuntu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ubuntu 下修改键盘映射
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/git-internals-objects-branches-create-repo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git 内部原理图解 -- 对象、分支以及如何从零开始建仓库
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/git-tips/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    git 不常见的操作技巧
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/how-to-create-dummy-rpm-package/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    快速创建一个虚假 RPM 包
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/howto-change-git-author/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to change git author name and email
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/howto-delete-old-images-from-nexus-registry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    如何删除 nexus 私服上的 Docker 镜像
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/howto-save-tmux-session/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to save tmux session
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/learn-seaborn-with-10min/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    十分钟掌握 Seaborn
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/matplotlib-support-chinese/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    让 Python 中 matplotlib 图支持中文
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/move-running-process-into-tmux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    把一个运行的进程放到 tmux 会话中
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/rpm-tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rpm 包管理基本技能
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/sed-one-line-tips/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SED 单行脚本快速参考
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/setup-gitlab-ci-for-android/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setup Gitlab CI For Android
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/ssh-three-key-features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ssh的三板斧
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/ssh-tips/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SSH examples, tips and tunnels
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/wechat-contacts-backup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    微信通讯录备份
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Troubleshooting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/capture-http-requests-with-tcpdump/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TCPDump Capture HTTP GET/POST requests
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/deep-in-tcp-connect/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    详解 TCP 半连接队列与全连接队列
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/docker-run-no-space-left/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker 运行容器报磁盘空间不足的错误
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/fix-ora-00227/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    修复 Oracle ORA-00227 错误
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/jdk1.6-support-tlsv1.2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    让 Oracle JDK 1.6 TLSv1.2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <nav class="md-tags" >
    
      
      
      
        <a href="../../tags/#tag:distributed-version-control" class="md-tag">distributed version control</a>
      
    
      
      
      
        <a href="../../tags/#tag:git" class="md-tag">git</a>
      
    
      
      
      
        <a href="../../tags/#tag:version-control" class="md-tag">version control</a>
      
    
  </nav>



<h1 id="git">Git从入门到应付日常工作<a class="headerlink" href="#git" title="Permanent link">&para;</a></h1>
<h2 id="git_1">Git概述<a class="headerlink" href="#git_1" title="Permanent link">&para;</a></h2>
<h2 id="git_2">Git 是一个开源的 <strong>分布式版本控制系统</strong> 。<a class="headerlink" href="#git_2" title="Permanent link">&para;</a></h2>
<h1 id="git_3">Git从入门到应付日常工作<a class="headerlink" href="#git_3" title="Permanent link">&para;</a></h1>
<h2 id="git_4">Git概述<a class="headerlink" href="#git_4" title="Permanent link">&para;</a></h2>
<p>Git 是一个开源的 <strong>分布式版本控制系统</strong> 。</p>
<p>在Git看来，文件有四种状态: 未跟踪 (untracked)、 未修改 (unmodified)、已修改 (modified) 、已暂存 (staged) 。</p>
<table>
<thead>
<tr>
<th>状态</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>untracked</td>
<td>未追踪。文件未被 git 管理，执行 <code>git add</code> 可将其转换为「已追踪」的「未修改状态」。</td>
</tr>
<tr>
<td>unmodified</td>
<td>未修改。已追踪，从「已暂存」状态执行 <code>git commit</code> 提交后的状态。因此也被称作「已提交」状态 (commited) 。</td>
</tr>
<tr>
<td>modified</td>
<td>已修改。已追踪，并且发生了修改，但还未暂存。</td>
</tr>
<tr>
<td>staged</td>
<td>已暂存。已追踪，对一个修改过的文件执行 <code>git add</code> 后的状态。</td>
</tr>
</tbody>
</table>
<p><img alt="image-20220927002133083" src="https://git-scm.com/book/en/v2/images/lifecycle.png" /></p>
<p>git 中的三个区域: 仓库、工作目录、暂存区域。</p>
<table>
<thead>
<tr>
<th>区域</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>工作目录</td>
<td>仓库的某个版本独立提取出来的内容。从 Git 仓库的压缩数据库中提取出来，放在磁盘上供用户使用和修改。</td>
</tr>
<tr>
<td>暂存区 / 索引</td>
<td>本质是一个文件，保存了下次将提交的文件列表信息，一般在 Git 仓库目录中，有时也被称作「索引」。</td>
</tr>
<tr>
<td>Git仓库 / 版本库</td>
<td>Git 用来保存项目的元数据和对象数据库的地方。</td>
</tr>
</tbody>
</table>
<p><img alt="image-20220927004419468" src="https://git-scm.com/book/en/v2/images/areas.png" /></p>
<p><br /></p>
<h2 id="_1">常用命令一览<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>git 常用命令。使用 <code>git help &lt;verb&gt;</code>, <code>git &lt;verb&gt; --help</code>, <code>man git-&lt;verb&gt;</code> 可查看相关命令的详细用法。</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>■ 基本操作</strong></td>
<td></td>
</tr>
<tr>
<td>git config --[system/global/local] user.name &lt;用户名&gt;</td>
<td>设置不同层级 git 配置文件中的 git 用户名</td>
</tr>
<tr>
<td>git config --[system/global/local] user.email &lt;邮箱&gt;</td>
<td>设置不同层级 git 配置文件中的 git 邮箱</td>
</tr>
<tr>
<td>git config --[system/global/local] --list</td>
<td>查看不同层级 git 配置内容</td>
</tr>
<tr>
<td>git config --[system/global/local] --edit</td>
<td>编辑不同层级 git 配置内容</td>
</tr>
<tr>
<td>git config --[system/global/local] &lt;变量组名.变量&gt;</td>
<td>查看不同层级下的git配置中的变量值</td>
</tr>
<tr>
<td>git init</td>
<td>将当前文件夹初始化为本地库</td>
</tr>
<tr>
<td>git add &lt;文件名&gt;</td>
<td>添加到暂存区</td>
</tr>
<tr>
<td>git add &lt;目录&gt;</td>
<td>添加指定目录及其子目录到暂存区</td>
</tr>
<tr>
<td>git add .</td>
<td>添加当前目录下的所有文件和所有子目录到暂存区<br />※ 过滤 <code>.gitignore</code></td>
</tr>
<tr>
<td>git add *</td>
<td>添加当前目录下的所有文件和所有子目录到暂存区<br />※ 不过滤 <code>.gitignore</code> ，一般不使用该命令。</td>
</tr>
<tr>
<td>git ls-files</td>
<td>查看暂存区和工作目录下的文件</td>
</tr>
<tr>
<td>git commit -m "&lt;本次提交的附带信息&gt;"</td>
<td>提交到本地库</td>
</tr>
<tr>
<td>git status</td>
<td>本地库状态</td>
</tr>
<tr>
<td>git status -s</td>
<td>本地库状态缩略信息</td>
</tr>
<tr>
<td>git diff &lt;文件名&gt;</td>
<td>列出指定文件在工作目录中修改前后的差异。</td>
</tr>
<tr>
<td>git diff --staged &lt;文件名&gt;</td>
<td>列出指定文件在暂存区与当前仓库版本间的差异。</td>
</tr>
<tr>
<td>git diff &lt;版本号&gt; &lt;文件名&gt;</td>
<td>列出指定文件在工作目录及指定仓库版本间的差异。</td>
</tr>
<tr>
<td>git reflog</td>
<td>查看历史记录缩略信息</td>
</tr>
<tr>
<td>git rm &lt;文件名&gt;</td>
<td>从已经跟踪的文件清单中 (暂存区域) 移除指定文件，同时删除该文件</td>
</tr>
<tr>
<td>git mv &lt;文件名1&gt; &lt;文件名2&gt;</td>
<td>将文件名1改成文件名2</td>
</tr>
<tr>
<td>git log</td>
<td>查看历史记录完整信息</td>
</tr>
<tr>
<td>git log -p</td>
<td>查看历史记录完整信息并展示每次提交的差异</td>
</tr>
<tr>
<td>git log -2</td>
<td>查看2条历史记录完整信息</td>
</tr>
<tr>
<td>git log --oneline --graph --all</td>
<td>以图形形式 (分支流) 查看提交历史</td>
</tr>
<tr>
<td>git reflog</td>
<td>查看历史记录缩略信息</td>
</tr>
<tr>
<td>git reflog -p</td>
<td>查看历史记录缩略信息并展示每次提交的差异</td>
</tr>
<tr>
<td>git reflog -2</td>
<td>查看2条历史记录缩略信息</td>
</tr>
<tr>
<td><strong>■ 撤销操作</strong></td>
<td></td>
</tr>
<tr>
<td>git commit --amend</td>
<td>修改 message 后提交暂存区，替换掉最后一次提交，即提交数不变 (commit id不同)。</td>
</tr>
<tr>
<td>git commit --amend -m "&lt;提交信息&gt;"</td>
<td>同上，但不会打开编辑器编辑提交信息，而是直接写上提交信息。</td>
</tr>
<tr>
<td>git restore --staged &lt;文件名&gt;</td>
<td>将暂存区的指定文件移出暂存区</td>
</tr>
<tr>
<td>git restore &lt;文件名&gt;</td>
<td>在工作目录下，将已修改状态的指定文件回退到未修改的状态。</td>
</tr>
<tr>
<td>git reset HEAD &lt;文件名&gt;</td>
<td>同 <code>git restore --staged &lt;文件名&gt;</code></td>
</tr>
<tr>
<td>git checkout -- &lt;文件名&gt;</td>
<td>同 <code>git restore &lt;文件名&gt;</code></td>
</tr>
<tr>
<td><strong>■ 切换操作</strong></td>
<td></td>
</tr>
<tr>
<td>git reset --soft &lt;版本号&gt;</td>
<td>将 HEAD 指向指定的版本 (commit) ，不改动 index 和 working tree。<br />※ 不可指定文件名 (指定则报错)。</td>
</tr>
<tr>
<td>git reset --mixed  &lt;版本号&gt;</td>
<td>不指定文件。将 HEAD 指向指定的版本 (commit) ，并使得暂存区与指定版本一致，即在指定版本之后加入暂存区的所有文件都移出暂存区。<br />※ <code>--mixed</code> 参数是默认的，也可不写。</td>
</tr>
<tr>
<td>git reset --mixed  &lt;版本号&gt; &lt;文件名&gt;</td>
<td>指定文件。<code>HEAD</code> 指针不变，但指定的文件对应的暂存区内容将切换到指定版本的状态，其他文件在暂存区的内容不变。</td>
</tr>
<tr>
<td>git reset --hard &lt;版本号&gt;</td>
<td>将 HEAD, index 和 working tree 都切换到指定版本号的状态。<br />※ 不可指定文件名 (指定则报错)。</td>
</tr>
<tr>
<td><strong>■ 分支操作</strong></td>
<td></td>
</tr>
<tr>
<td>git branch</td>
<td>列出本地所有分支名</td>
</tr>
<tr>
<td>git branch -r</td>
<td>列出远程所有分支名</td>
</tr>
<tr>
<td>git branch -a</td>
<td>列出本地及远程的所有分支名</td>
</tr>
<tr>
<td>git branch &lt;分支名&gt;</td>
<td>以指定分支名创建新分支</td>
</tr>
<tr>
<td>git branch -d &lt;分支名&gt;</td>
<td>删除指定分支</td>
</tr>
<tr>
<td>git switch &lt;分支名&gt;</td>
<td>切换到指定分支</td>
</tr>
<tr>
<td>git switch -c &lt;分支名&gt;</td>
<td>创建并切换分支</td>
</tr>
<tr>
<td>git switch -</td>
<td>切换回上一次所在分支</td>
</tr>
<tr>
<td>git checkout &lt;分支名&gt;</td>
<td>切换到指定分支</td>
</tr>
<tr>
<td>git checkout -b &lt;分支名&gt;</td>
<td>创建并切换分支</td>
</tr>
<tr>
<td>git merge &lt;分支名&gt;</td>
<td>将指定分支合并入当前分支</td>
</tr>
<tr>
<td>git rebase &lt;分支名&gt;</td>
<td>以当前分支为基底，将指定分支在分歧后的修改合入当前分支 (在当前分支下重放指定分支在分歧点后的提交)</td>
</tr>
<tr>
<td><strong>■ 远程操作</strong></td>
<td></td>
</tr>
<tr>
<td>git remote add &lt;远程仓库地址别名&gt; &lt;远程仓库地址&gt;</td>
<td>关联本地仓库与远程仓库</td>
</tr>
<tr>
<td>git remote</td>
<td>列出远程仓库 (别名)</td>
</tr>
<tr>
<td>git remove -v</td>
<td>列出远程仓库详细信息 (远程地址别名和fetch&amp;push的地址)</td>
</tr>
<tr>
<td>git remote show &lt;远程仓库地址别名&gt;</td>
<td>查看远程仓库详细信息</td>
</tr>
<tr>
<td>git remote rename &lt;当前别名&gt; &lt;新别名&gt;</td>
<td>修改远程仓库地址别名</td>
</tr>
<tr>
<td>git clone &lt;远程仓库地址&gt;</td>
<td>将远程仓库克隆到当前目录下</td>
</tr>
<tr>
<td>git push &lt;远程仓库地址&gt; &lt;本地分支名&gt;:&lt;远程分支名&gt;</td>
<td>推送本地当前分支版本到远程仓库指定分支</td>
</tr>
<tr>
<td>git push -u &lt;远程仓库别名&gt; &lt;远程仓库分支名&gt;</td>
<td>将本地仓库当前分支内容推送到指定远程仓库的指定分支<br />※ <code>-u</code> 是 <code>--set-upstream</code> 的缩略，关联当前分支与指定的远程仓库分支，方便之后仅使用 <code>git push</code> 完成推送。</td>
</tr>
<tr>
<td>git push &lt;远程仓库地址&gt; &lt;分支名&gt;</td>
<td>当本地分支名与远程分支名相同时的略写</td>
</tr>
<tr>
<td>git push</td>
<td>若当前本地分支已与远程仓库某分支通过 <code>--set-upstream</code> 参数绑定过，则可直接将本地分支当前版本推送到该远程分支</td>
</tr>
<tr>
<td>git fetch &lt;远程仓库别名&gt; &lt;远程仓库分支名&gt;</td>
<td>从指定远程仓库获取指定分支的最新版本到当前仓库中，但不 merge</td>
</tr>
<tr>
<td>git fetch &lt;远程仓库别名&gt;</td>
<td>从指定远程仓库的获取所有分支中的最新版本到当前仓库中，但不 merge</td>
</tr>
<tr>
<td>git fetch</td>
<td>类似 push ，若已经设置了 <code>--set-upstream</code> ，则可省略后续参数</td>
</tr>
<tr>
<td>git pull &lt;远程仓库别名&gt; &lt;远程分支名&gt;:&lt;本地分支名&gt;</td>
<td>从指定远程仓库获取指定分支的最新版本到指定本地分支中，并 merge</td>
</tr>
<tr>
<td>git pull &lt;远程仓库别名&gt; &lt;分支名&gt;</td>
<td>远程分支名与本地分支名相同时的简写</td>
</tr>
<tr>
<td>git pull</td>
<td>类似 push ，若已经设置了 <code>--set-upstream</code> ，则可省略后续参数</td>
</tr>
</tbody>
</table>
<p><br /></p>
<h2 id="_2">基本操作<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<h3 id="git-config">git config<a class="headerlink" href="#git-config" title="Permanent link">&para;</a></h3>
<p>git 有三个层级的配置文件。</p>
<table>
<thead>
<tr>
<th>配置文件</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>系统级 (system)</td>
<td>配置对OS系统下所有用户有效。</td>
</tr>
<tr>
<td>系统用户级 (global)</td>
<td>配置对OS系统下当前用户有效。</td>
</tr>
<tr>
<td>当前仓库级别 (local)</td>
<td>配置对当前仓库有效。</td>
</tr>
</tbody>
</table>
<p>不同系统下不同级别的配置文件的路径。</p>
<table>
<thead>
<tr>
<th>系统</th>
<th>配置文件</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>MacOS</td>
<td>system</td>
<td>使用 brew 安装时，为该文件: <code>/usr/local/etc/config</code></td>
</tr>
<tr>
<td></td>
<td>global</td>
<td>为该文件 <code>/Users/&lt;your user name&gt;/.gitconfig</code></td>
</tr>
<tr>
<td></td>
<td>local</td>
<td>当前仓库 <code>.git</code> 文件夹下的 <code>.gitconfig</code></td>
</tr>
<tr>
<td>Windows</td>
<td>system</td>
<td><code>C:\Program Files\Git\etc\gitconfig</code></td>
</tr>
<tr>
<td></td>
<td>global</td>
<td><code>C:\Users\&lt;your user name&gt;\.gitconfig</code></td>
</tr>
<tr>
<td></td>
<td>local</td>
<td>当前仓库 <code>.git</code> 文件夹下的 <code>.gitconfig</code></td>
</tr>
<tr>
<td>Linux</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>如下，可通过 <code>cat</code> 命令查看三个层级下的 git 配置内容。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>~<span class="w"> </span>%<span class="w"> </span>cat<span class="w"> </span>/usr/local/etc/gitconfig
<span class="o">[</span>credential<span class="o">]</span>
<span class="w">    </span><span class="nv">helper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>osxkeychain
koshiba@koshiba<span class="w"> </span>~<span class="w"> </span>%<span class="w"> </span>cat<span class="w"> </span>~/.gitconfig
<span class="o">[</span>filter<span class="w"> </span><span class="s2">&quot;lfs&quot;</span><span class="o">]</span>
<span class="w">    </span><span class="nv">clean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>git-lfs<span class="w"> </span>clean<span class="w"> </span>--<span class="w"> </span>%f
<span class="w">    </span><span class="nv">smudge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>git-lfs<span class="w"> </span>smudge<span class="w"> </span>--<span class="w"> </span>%f
<span class="w">    </span><span class="nv">process</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>git-lfs<span class="w"> </span>filter-process
<span class="w">    </span><span class="nv">required</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span>
<span class="o">[</span>user<span class="o">]</span>
<span class="w">    </span><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>koshiba
<span class="w">    </span><span class="nv">email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>koshiba@yuki.com
<span class="o">[</span>init<span class="o">]</span>
<span class="w">    </span><span class="nv">defaultBranch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>master
koshiba@koshiba<span class="w"> </span>~<span class="w"> </span>%<span class="w"> </span>cat<span class="w"> </span>iCloud/study/tech/git/git-demo/.git/config
<span class="o">[</span>core<span class="o">]</span>
<span class="w">    </span><span class="nv">repositoryformatversion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
<span class="w">    </span><span class="nv">filemode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span>
<span class="w">    </span><span class="nv">bare</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span>
<span class="w">    </span><span class="nv">logallrefupdates</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span>
<span class="w">    </span><span class="nv">ignorecase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span>
<span class="w">    </span><span class="nv">precomposeunicode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span>
<span class="o">[</span>user<span class="o">]</span>
<span class="w">    </span><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>ikoshiba
<span class="w">    </span><span class="nv">email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>koshiba@yama.com
koshiba@koshiba<span class="w"> </span>~<span class="w"> </span>%
</code></pre></div>
<p>也可以通过 <code>git config --[system/global/local] --list</code> 查看。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>~<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--system<span class="w"> </span>--list
credential.helper<span class="o">=</span>osxkeychain
koshiba@koshiba<span class="w"> </span>~<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>--list
filter.lfs.clean<span class="o">=</span>git-lfs<span class="w"> </span>clean<span class="w"> </span>--<span class="w"> </span>%f
filter.lfs.smudge<span class="o">=</span>git-lfs<span class="w"> </span>smudge<span class="w"> </span>--<span class="w"> </span>%f
filter.lfs.process<span class="o">=</span>git-lfs<span class="w"> </span>filter-process
filter.lfs.required<span class="o">=</span><span class="nb">true</span>
user.name<span class="o">=</span>koshiba
user.email<span class="o">=</span>koshiba@yuki.com
init.defaultbranch<span class="o">=</span>master
koshiba@koshiba<span class="w"> </span>~<span class="w"> </span>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>iCloud/study/tech/git/git-demo/
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--local<span class="w"> </span>--list
core.repositoryformatversion<span class="o">=</span><span class="m">0</span>
core.filemode<span class="o">=</span><span class="nb">true</span>
core.bare<span class="o">=</span><span class="nb">false</span>
core.logallrefupdates<span class="o">=</span><span class="nb">true</span>
core.ignorecase<span class="o">=</span><span class="nb">true</span>
core.precomposeunicode<span class="o">=</span><span class="nb">true</span>
user.name<span class="o">=</span>ikoshiba
user.email<span class="o">=</span>koshiba@yama.com
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%
</code></pre></div>
<p>需要注意带有 <code>--local</code> 参数的 <code>git config</code> 命令要在仓库内执行，否则返回如下错误提示。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>~<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--local<span class="w"> </span>user.name
fatal:<span class="w"> </span>--local<span class="w"> </span>can<span class="w"> </span>only<span class="w"> </span>be<span class="w"> </span>used<span class="w"> </span>inside<span class="w"> </span>a<span class="w"> </span>git<span class="w"> </span>repository
koshiba@koshiba<span class="w"> </span>~<span class="w"> </span>%
</code></pre></div>
<p><br /></p>
<h4 id="_3">配置用户签名<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h4>
<p>可以通过 <code>vim</code> 命令或者带 <code>--edit</code> 参数的 <code>git config</code> 命令打开配置文件完成编辑，更好的方式是直接使用 <code>git config</code> 命令指定具体的变量。通常在使用 git 进行版本控制管理前，需要设置用户名及邮箱，即「用户签名」，用于标识操作者信息，无该信息则无法提交。</p>
<p>如下设置 global 层级的 user.name 及 user.email。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.name<span class="w"> </span>koshiba
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.name
koshiba
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.email<span class="w"> </span>koshiba@gmail.com
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.email
koshiba@gmail.com
</code></pre></div>
<p>当我们希望对某个具体的 git 项目 (即 <code>.git</code> 所在目录) 使用不同于 global 的用户签名时，使用 <code>--local</code> 参数单独设置，如下。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--local<span class="w"> </span>user.name<span class="w"> </span>koshiba123
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--local<span class="w"> </span>user.name
koshiba123
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--local<span class="w"> </span>user.email<span class="w"> </span>koshiba@outlook.com
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--local<span class="w"> </span>user.email
koshiba@outlook.com
</code></pre></div>
<p>需要注意的是，「用户签名」与在「远程操作」中使用远程库平台 (如 github) 的账户信息无关，只不过我们也可以将用户签名设置为远程库平台的账号名及邮箱。</p>
<p><br /></p>
<h4 id="_4">配置全局忽略<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h4>
<p>使用 MacOS 时，本地 git 仓库中可能会出现 MacOS 中特有的 <code>.DS_Store</code> 文件。类似这样的文件或文件夹，我们可以针对每一个本地 git 仓库，在 <code>.git</code> 所在目录下设置新建 <code>.gitignore</code> 文件，在其中设置需要忽略的本仓库内的文件和文件夹，也可以设置一个全局忽略配置文件 <code>.gitignore_global</code> (通常与全局配置文件 <code>.gitconfig</code> 放置在同一目录下，即 <code>~/</code> 下) 。例如新建一个 <code>~/.gitignore_global</code> 文件如下。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>~<span class="w"> </span>%<span class="w"> </span>cat<span class="w"> </span>~/.gitignore_global
<span class="c1"># MacOS .DS_Store</span>
**/.DS_Store
koshiba@koshiba<span class="w"> </span>~<span class="w"> </span>%
</code></pre></div>
<blockquote>
<p><code>**</code> 表示所有层级目录</p>
</blockquote>
<p>然后使用 <code>git config --global core.excludesfile ~/.gitignore_global</code> 命令配置到全局配置文件中。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>core.excludesfile<span class="w"> </span>~/.gitignore_global
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>--list
filter.lfs.clean<span class="o">=</span>git-lfs<span class="w"> </span>clean<span class="w"> </span>--<span class="w"> </span>%f
filter.lfs.smudge<span class="o">=</span>git-lfs<span class="w"> </span>smudge<span class="w"> </span>--<span class="w"> </span>%f
filter.lfs.process<span class="o">=</span>git-lfs<span class="w"> </span>filter-process
target/
filter.lfs.required<span class="o">=</span><span class="nb">true</span>
user.name<span class="o">=</span>koshiba
user.email<span class="o">=</span>koshiba@163.com
init.defaultbranch<span class="o">=</span>master
core.excludesfile<span class="o">=</span>/Users/koshiba/.gitignore_global
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%
</code></pre></div>
<p>对于已经在 <code>.gitignore_global</code> 中的忽略规则，之后就不需要再针对每一个 git 仓库设置单独设置了。</p>
<p><br /></p>
<h4 id="_5">配置忽略转义<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h4>
<p>使用 git 命令时，命令行回显信息的中文 (或日文等) 字符会被转义。如下，<code>中文.md</code> 被显示为 <code>\344\270\255\346\226\207.md</code> 。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>pics<span class="w"> </span>%<span class="w"> </span>vim<span class="w"> </span>中文.md
koshiba@koshiba<span class="w"> </span>pics<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Your<span class="w"> </span>branch<span class="w"> </span>is<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span>date<span class="w"> </span>with<span class="w"> </span><span class="s1">&#39;origin/master&#39;</span>.

Untracked<span class="w"> </span>files:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>include<span class="w"> </span><span class="k">in</span><span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">    </span><span class="s2">&quot;\344\270\255\346\226\207.md&quot;</span>

nothing<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>commit<span class="w"> </span>but<span class="w"> </span>untracked<span class="w"> </span>files<span class="w"> </span>present<span class="w"> </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add&quot;</span><span class="w"> </span>to<span class="w"> </span>track<span class="o">)</span>
koshiba@koshiba<span class="w"> </span>pics<span class="w"> </span>%
</code></pre></div>
<p>可以将 <code>core.quotepath</code> 设置为 <code>false</code> 禁止转义，以便显示中文。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>pics<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>core.quotepath<span class="w"> </span><span class="nb">false</span>
koshiba@koshiba<span class="w"> </span>pics<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Your<span class="w"> </span>branch<span class="w"> </span>is<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span>date<span class="w"> </span>with<span class="w"> </span><span class="s1">&#39;origin/master&#39;</span>.

Untracked<span class="w"> </span>files:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>include<span class="w"> </span><span class="k">in</span><span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">    </span>中文.md

nothing<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>commit<span class="w"> </span>but<span class="w"> </span>untracked<span class="w"> </span>files<span class="w"> </span>present<span class="w"> </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add&quot;</span><span class="w"> </span>to<span class="w"> </span>track<span class="o">)</span>
koshiba@koshiba<span class="w"> </span>pics<span class="w"> </span>%
</code></pre></div>
<p><code>core.quotePath</code> 参数的作用如下 (来自 <a href="https://git-scm.com/docs/git-config">官方文档</a> )。</p>
<blockquote>
<p>Commands that output paths (e.g. <em>ls-files</em>, <em>diff</em>), will quote "unusual" characters in the pathname by enclosing the pathname in double-quotes and escaping those characters with backslashes in the same way C escapes control characters (e.g. <code>\t</code> for TAB, <code>\n</code> for LF, <code>\\</code> for backslash) or bytes with values larger than 0x80 (e.g. octal <code>\302\265</code> for "micro" in UTF-8). If this variable is set to false, bytes higher than 0x80 are not considered "unusual" any more. Double-quotes, backslash and control characters are always escaped regardless of the setting of this variable. A simple space character is not considered "unusual". Many commands can output pathnames completely verbatim using the <code>-z</code> option. The default value is true.</p>
</blockquote>
<p><br /></p>
<h3 id="git-init">git init<a class="headerlink" href="#git-init" title="Permanent link">&para;</a></h3>
<p>在文件夹路径下执行 <code>git init</code> ，此文件夹即称为 git 本地仓库，文件夹下出现 <code>.git</code> 隐藏文件夹，其内保存了 git 用于版本管理的各种信息文件。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>init
Initialized<span class="w"> </span>empty<span class="w"> </span>Git<span class="w"> </span>repository<span class="w"> </span><span class="k">in</span><span class="w"> </span>/Users/koshiba/Library/Mobile<span class="w"> </span>Documents/com~apple~CloudDocs/study/tech/git/git-demo/.git/
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%
</code></pre></div>
<p>此时即可使用 git 命令 <code>git status</code> 查看仓库文件状态。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>git-demo1<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master

No<span class="w"> </span>commits<span class="w"> </span>yet

nothing<span class="w"> </span>to<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>create/copy<span class="w"> </span>files<span class="w"> </span>and<span class="w"> </span>use<span class="w"> </span><span class="s2">&quot;git add&quot;</span><span class="w"> </span>to<span class="w"> </span>track<span class="o">)</span>
koshiba@koshiba<span class="w"> </span>git-demo1<span class="w"> </span>%
</code></pre></div>
<p><br /></p>
<h3 id="git-add">git add<a class="headerlink" href="#git-add" title="Permanent link">&para;</a></h3>
<p>文件夹初始化为 git 仓库后，尚未有文件被 git 追踪管理，此时使用 <code>git add &lt;文件名&gt;</code> 命令将指定文件放入「暂存区」。暂存区本质上是一个文件，它保存了下次将提交的文件列表信息。如下，新增一个 <code>hello.txt</code> 文件后，使用 <code>git status</code> 查看仓库内文件所属状态，可以看到 <code>Untracked files</code> 信息。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master

No<span class="w"> </span>commits<span class="w"> </span>yet

Untracked<span class="w"> </span>files:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>include<span class="w"> </span><span class="k">in</span><span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">    </span>.DS_Store
<span class="w">    </span>hello.txt

nothing<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>commit<span class="w"> </span>but<span class="w"> </span>untracked<span class="w"> </span>files<span class="w"> </span>present<span class="w"> </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add&quot;</span><span class="w"> </span>to<span class="w"> </span>track<span class="o">)</span>
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%
</code></pre></div>
<p>此时使用 <code>git add helle.txt</code> 即可将文件放入「暂存区」(标记为追踪文件)。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>hello.txt
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master

No<span class="w"> </span>commits<span class="w"> </span>yet

Changes<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>committed:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git rm --cached &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>unstage<span class="o">)</span>
<span class="w">    </span>new<span class="w"> </span>file:<span class="w">   </span>hello.txt

Untracked<span class="w"> </span>files:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>include<span class="w"> </span><span class="k">in</span><span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">    </span>.DS_Store

koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%
</code></pre></div>
<ul>
<li><code>git add .</code> 会把本地所 有 untrack 的 (包括追踪过但又修改了的) 文件都加入暂存区。</li>
<li><code>git add *</code> 会忽略 <code>.gitignore</code> 把任何文件都加入。执行时会出现如下提示，加上 <code>-f</code> 参数后可强制加入，但显然通常我们不会这么做。</li>
</ul>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>*
The<span class="w"> </span>following<span class="w"> </span>paths<span class="w"> </span>are<span class="w"> </span>ignored<span class="w"> </span>by<span class="w"> </span>one<span class="w"> </span>of<span class="w"> </span>your<span class="w"> </span>.gitignore<span class="w"> </span>files:
<span class="nb">test</span>
test.txt
hint:<span class="w"> </span>Use<span class="w"> </span>-f<span class="w"> </span><span class="k">if</span><span class="w"> </span>you<span class="w"> </span>really<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>add<span class="w"> </span>them.
hint:<span class="w"> </span>Turn<span class="w"> </span>this<span class="w"> </span>message<span class="w"> </span>off<span class="w"> </span>by<span class="w"> </span>running
hint:<span class="w"> </span><span class="s2">&quot;git config advice.addIgnoredFile false&quot;</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p><br /></p>
<h3 id="git-commit">git commit<a class="headerlink" href="#git-commit" title="Permanent link">&para;</a></h3>
<p>使用 <code>git commit -m "&lt;message&gt;" &lt;filename&gt;</code>提交指定文件。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;first commit&quot;</span><span class="w"> </span>hello.txt
<span class="o">[</span>master<span class="w"> </span><span class="o">(</span>root-commit<span class="o">)</span><span class="w"> </span>3d542ed<span class="o">]</span><span class="w"> </span>first<span class="w"> </span>commit
<span class="w"> </span><span class="m">1</span><span class="w"> </span>file<span class="w"> </span>changed,<span class="w"> </span><span class="m">3</span><span class="w"> </span>insertions<span class="o">(</span>+<span class="o">)</span>
<span class="w"> </span>create<span class="w"> </span>mode<span class="w"> </span><span class="m">100644</span><span class="w"> </span>hello.txt
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Untracked<span class="w"> </span>files:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>include<span class="w"> </span><span class="k">in</span><span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">    </span>.DS_Store

nothing<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>commit<span class="w"> </span>but<span class="w"> </span>untracked<span class="w"> </span>files<span class="w"> </span>present<span class="w"> </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add&quot;</span><span class="w"> </span>to<span class="w"> </span>track<span class="o">)</span>
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%
</code></pre></div>
<p><strong>修改文件</strong></p>
<p>修改文件后 git 会检测到被修改的文件。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Changes<span class="w"> </span>not<span class="w"> </span>staged<span class="w"> </span><span class="k">for</span><span class="w"> </span>commit:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>update<span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git restore &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>discard<span class="w"> </span>changes<span class="w"> </span><span class="k">in</span><span class="w"> </span>working<span class="w"> </span>directory<span class="o">)</span>
<span class="w">    </span>modified:<span class="w">   </span>hello.txt

Untracked<span class="w"> </span>files:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>include<span class="w"> </span><span class="k">in</span><span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">    </span>.DS_Store

no<span class="w"> </span>changes<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add&quot;</span><span class="w"> </span>and/or<span class="w"> </span><span class="s2">&quot;git commit -a&quot;</span><span class="o">)</span>
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%
</code></pre></div>
<p><strong>再次添加并提交</strong></p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>hello.txt
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Changes<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>committed:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git restore --staged &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>unstage<span class="o">)</span>
<span class="w">    </span>modified:<span class="w">   </span>hello.txt

Untracked<span class="w"> </span>files:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>include<span class="w"> </span><span class="k">in</span><span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">    </span>.DS_Store

koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;first changed&quot;</span>
<span class="o">[</span>master<span class="w"> </span>c246db6<span class="o">]</span><span class="w"> </span>first<span class="w"> </span>changed
<span class="w"> </span><span class="m">1</span><span class="w"> </span>file<span class="w"> </span>changed,<span class="w"> </span><span class="m">1</span><span class="w"> </span>insertion<span class="o">(</span>+<span class="o">)</span>,<span class="w"> </span><span class="m">1</span><span class="w"> </span>deletion<span class="o">(</span>-<span class="o">)</span>
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%
</code></pre></div>
<p>也可以使用 <code>git commit -am "&lt;message&gt;"</code> 将所有已跟踪的文件 <strong>暂存并提交</strong> (即 add 与 commit 一起完成)。</p>
<p><br /></p>
<h3 id="git-status">git status<a class="headerlink" href="#git-status" title="Permanent link">&para;</a></h3>
<p><code>git status</code> 命令可以添加 <code>-s</code> (<code>--short</code>) 参数以紧凑形式返回状态信息。如下，添加 <code>untracked.txt</code>, <code>added.txt</code> 和 <code>modified.txt</code> 文件演示处于 <code>untracked(??)</code>, <code>added(A)</code> , <code>modified(_M)</code> (M在右侧) 以及 <code>modifiedAdded(M_)</code> (M在左侧) 状态的情况。</p>
<ul>
<li><code>untracked.txt</code> 新建后尚未通过 <code>git add</code> 添加到暂存区。</li>
<li><code>added.txt</code> 新建后通过 <code>git add</code> 添加到了暂存区，但未 <code>git commit</code> 提交。</li>
<li><code>modified.txt</code> 新建后添加到了暂存区，且已提交，并在提交后做了修改。</li>
<li><code>modifiedAdded.txt</code> 新建后添加到了暂存区，且已提交，并在提交后做了修改，之后又提交到了暂存区。</li>
</ul>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Changes<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>committed:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git restore --staged &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>unstage<span class="o">)</span>
<span class="w">    </span>new<span class="w"> </span>file:<span class="w">   </span>added.txt
<span class="w">    </span>modified:<span class="w">   </span>modifiedAdded.txt

Changes<span class="w"> </span>not<span class="w"> </span>staged<span class="w"> </span><span class="k">for</span><span class="w"> </span>commit:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>update<span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git restore &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>discard<span class="w"> </span>changes<span class="w"> </span><span class="k">in</span><span class="w"> </span>working<span class="w"> </span>directory<span class="o">)</span>
<span class="w">    </span>modified:<span class="w">   </span>.DS_Store
<span class="w">    </span>modified:<span class="w">   </span>modified.txt

Untracked<span class="w"> </span>files:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>include<span class="w"> </span><span class="k">in</span><span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">    </span>untracked.txt

koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status<span class="w"> </span>-s
<span class="w"> </span>M<span class="w"> </span>.DS_Store
A<span class="w">  </span>added.txt
<span class="w"> </span>M<span class="w"> </span>modified.txt
M<span class="w">  </span>modifiedAdded.txt
??<span class="w"> </span>untracked.txt
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%
</code></pre></div>
<p><br /></p>
<h3 id="git-diff">git diff<a class="headerlink" href="#git-diff" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>命令</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>git diff &lt;文件名&gt;</td>
<td>列出指定文件在工作目录中修改前后的差异。</td>
</tr>
<tr>
<td>git diff --staged &lt;文件名&gt;</td>
<td>列出指定文件在暂存区与当前仓库版本间的差异。</td>
</tr>
<tr>
<td>git diff &lt;版本号&gt; &lt;文件名&gt;</td>
<td>列出指定文件在工作目录及指定仓库版本间的差异。</td>
</tr>
</tbody>
</table>
<p>※ <code>--staged</code> 也可以使用 <code>--cached</code> 代替。</p>
<p>※ 上述命令均针对被 git 管理的文件，即被 <code>git add</code> 过的文件。当不指定具体文件时，列出所有文件的差异。</p>
<p>※ 「版本号」可以用 <code>HEAD</code>、<code>HEAD^</code>、<code>HEAD^^</code>、<code>HEAD~~1</code>、<code>HEAD~~2</code> 等形式表示。<code>HEAD</code> 表示当前版本，<code>HEAD^</code> 表示当前版本的前一个版本，有多少个 <code>^</code> 就往前多少个版本，<code>~1</code> 表示当前版本的前一个版本，数字是多少，就表示往前多少个版本。</p>
<p>新建 diff.txt 且该文件只有一行「only first line when created」。可以看到由于尚未对 compare.txt 执行 <code>git add</code> ，即此文件还未被 git 管理，因此 三条 <code>git diff</code> 命令均无回显。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>vim<span class="w"> </span>compare.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>diff
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>diff<span class="w"> </span>--staged<span class="w"> </span>compare.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>diff<span class="w"> </span>HEAD<span class="w"> </span>compare.txt
</code></pre></div>
<p>执行 <code>git add compare.txt</code> 之后。可以看到如下。</p>
<ul>
<li><code>git diff</code> 命令无回显，因为是初次被 git 管理，即第一次出现在 git 的工作目录，此文件在工作目录中无历史可比较版本。</li>
<li><code>git diff --staged</code> 列出首行差异，因为此时暂存区比当前仓库版本多一行 (多了此文件，并且有一行差异) 。</li>
<li><code>git diff HEAD</code> 列出首行差异，因为此时工作目录比当前仓库版本多一行 (多了此文件，并且有一行差异) 。</li>
</ul>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>compare.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>diff
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>diff<span class="w"> </span>--staged<span class="w"> </span>compare.txt
diff<span class="w"> </span>--git<span class="w"> </span>a/compare.txt<span class="w"> </span>b/compare.txt
new<span class="w"> </span>file<span class="w"> </span>mode<span class="w"> </span><span class="m">100644</span>
index<span class="w"> </span><span class="m">0000000</span>..80dd23d
---<span class="w"> </span>/dev/null
+++<span class="w"> </span>b/compare.txt
@@<span class="w"> </span>-0,0<span class="w"> </span>+1<span class="w"> </span>@@
+only<span class="w"> </span>first<span class="w"> </span>line<span class="w"> </span>when<span class="w"> </span>created
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>diff<span class="w"> </span>HEAD<span class="w"> </span>compare.txt
diff<span class="w"> </span>--git<span class="w"> </span>a/compare.txt<span class="w"> </span>b/compare.txt
new<span class="w"> </span>file<span class="w"> </span>mode<span class="w"> </span><span class="m">100644</span>
index<span class="w"> </span><span class="m">0000000</span>..80dd23d
---<span class="w"> </span>/dev/null
+++<span class="w"> </span>b/compare.txt
@@<span class="w"> </span>-0,0<span class="w"> </span>+1<span class="w"> </span>@@
+only<span class="w"> </span>first<span class="w"> </span>line<span class="w"> </span>when<span class="w"> </span>created
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>执行 <code>git commit -m "add compare.txt"</code> 提交 compare.txt 之后。可看到如下。此时工作目录、暂存区和当前版本均无差异。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;add compare.txt&quot;</span>
<span class="o">[</span>master<span class="w"> </span>1e05a4f<span class="o">]</span><span class="w"> </span>add<span class="w"> </span>compare.txt
<span class="w"> </span><span class="m">2</span><span class="w"> </span>files<span class="w"> </span>changed,<span class="w"> </span><span class="m">1</span><span class="w"> </span>insertion<span class="o">(</span>+<span class="o">)</span>,<span class="w"> </span><span class="m">1</span><span class="w"> </span>deletion<span class="o">(</span>-<span class="o">)</span>
<span class="w"> </span>create<span class="w"> </span>mode<span class="w"> </span><span class="m">100644</span><span class="w"> </span>compare.txt
<span class="w"> </span>delete<span class="w"> </span>mode<span class="w"> </span><span class="m">100644</span><span class="w"> </span>diff.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>diff
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>diff<span class="w"> </span>--staged<span class="w"> </span>compare.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>diff<span class="w"> </span>HEAD<span class="w"> </span>compare.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>增加第二行 「second line added」之后。可以看到如下。</p>
<ul>
<li><code>git diff</code> 列出第二行差异，因为此时工作目录下该文件多了一行 。</li>
<li><code>git diff --staged</code> 由于暂存区与当前仓库版本无差异，因此无回显。</li>
<li><code>git diff HEAD</code> 列出第二行差异，因为此时工作目录下该文件相比指定的仓库版本多了一行 。</li>
</ul>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>diff<span class="w"> </span>compare.txt
diff<span class="w"> </span>--git<span class="w"> </span>a/compare.txt<span class="w"> </span>b/compare.txt
index<span class="w"> </span>80dd23d..3d555a6<span class="w"> </span><span class="m">100644</span>
---<span class="w"> </span>a/compare.txt
+++<span class="w"> </span>b/compare.txt
@@<span class="w"> </span>-1<span class="w"> </span>+1,2<span class="w"> </span>@@
<span class="w"> </span>only<span class="w"> </span>first<span class="w"> </span>line<span class="w"> </span>when<span class="w"> </span>created
+second<span class="w"> </span>line<span class="w"> </span>added
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>diff<span class="w"> </span>--staged<span class="w"> </span>compare.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>diff<span class="w"> </span>HEAD<span class="w"> </span>compare.txt
diff<span class="w"> </span>--git<span class="w"> </span>a/compare.txt<span class="w"> </span>b/compare.txt
index<span class="w"> </span>80dd23d..3d555a6<span class="w"> </span><span class="m">100644</span>
---<span class="w"> </span>a/compare.txt
+++<span class="w"> </span>b/compare.txt
@@<span class="w"> </span>-1<span class="w"> </span>+1,2<span class="w"> </span>@@
<span class="w"> </span>only<span class="w"> </span>first<span class="w"> </span>line<span class="w"> </span>when<span class="w"> </span>created
+second<span class="w"> </span>line<span class="w"> </span>added
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>「版本号」的不同写法。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>diff<span class="w"> </span>HEAD~1<span class="w"> </span>compare.txt
diff<span class="w"> </span>--git<span class="w"> </span>a/compare.txt<span class="w"> </span>b/compare.txt
new<span class="w"> </span>file<span class="w"> </span>mode<span class="w"> </span><span class="m">100644</span>
index<span class="w"> </span><span class="m">0000000</span>..3d555a6
---<span class="w"> </span>/dev/null
+++<span class="w"> </span>b/compare.txt
@@<span class="w"> </span>-0,0<span class="w"> </span>+1,2<span class="w"> </span>@@
+only<span class="w"> </span>first<span class="w"> </span>line<span class="w"> </span>when<span class="w"> </span>created
+second<span class="w"> </span>line<span class="w"> </span>added
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>diff<span class="w"> </span>HEAD^<span class="w"> </span>compare.txt
diff<span class="w"> </span>--git<span class="w"> </span>a/compare.txt<span class="w"> </span>b/compare.txt
new<span class="w"> </span>file<span class="w"> </span>mode<span class="w"> </span><span class="m">100644</span>
index<span class="w"> </span><span class="m">0000000</span>..3d555a6
---<span class="w"> </span>/dev/null
+++<span class="w"> </span>b/compare.txt
@@<span class="w"> </span>-0,0<span class="w"> </span>+1,2<span class="w"> </span>@@
+only<span class="w"> </span>first<span class="w"> </span>line<span class="w"> </span>when<span class="w"> </span>created
+second<span class="w"> </span>line<span class="w"> </span>added
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>reflog<span class="w"> </span>-2
1e05a4f<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>HEAD@<span class="o">{</span><span class="m">0</span><span class="o">}</span>:<span class="w"> </span>commit:<span class="w"> </span>add<span class="w"> </span>compare.txt
f08b6a1<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">1</span><span class="o">}</span>:<span class="w"> </span>commit:<span class="w"> </span>add<span class="w"> </span>diff.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>diff<span class="w"> </span>f08b6a1<span class="w"> </span>compare.txt
diff<span class="w"> </span>--git<span class="w"> </span>a/compare.txt<span class="w"> </span>b/compare.txt
new<span class="w"> </span>file<span class="w"> </span>mode<span class="w"> </span><span class="m">100644</span>
index<span class="w"> </span><span class="m">0000000</span>..3d555a6
---<span class="w"> </span>/dev/null
+++<span class="w"> </span>b/compare.txt
@@<span class="w"> </span>-0,0<span class="w"> </span>+1,2<span class="w"> </span>@@
+only<span class="w"> </span>first<span class="w"> </span>line<span class="w"> </span>when<span class="w"> </span>created
+second<span class="w"> </span>line<span class="w"> </span>added
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p><br /></p>
<h3 id="git-rm">git rm<a class="headerlink" href="#git-rm" title="Permanent link">&para;</a></h3>
<p>使用 <code>git rm &lt;filename&gt;</code> 从已跟踪的文件清单中移除指定文件 (即从暂存区域移除) 并提交，同时删除该文件。如果只是 使用 <code>rm</code> ，虽然文件被删除，但 <code>git status</code> 后还是能看到已被删除的文件。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>rm<span class="w"> </span>hello.txt
error:<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>file<span class="w"> </span>has<span class="w"> </span>staged<span class="w"> </span>content<span class="w"> </span>different<span class="w"> </span>from<span class="w"> </span>both<span class="w"> </span>the
file<span class="w"> </span>and<span class="w"> </span>the<span class="w"> </span>HEAD:
<span class="w">    </span>hello.txt
<span class="o">(</span>use<span class="w"> </span>-f<span class="w"> </span>to<span class="w"> </span>force<span class="w"> </span>removal<span class="o">)</span>
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Changes<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>committed:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git restore --staged &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>unstage<span class="o">)</span>
<span class="w">    </span>modified:<span class="w">   </span>hello.txt

Changes<span class="w"> </span>not<span class="w"> </span>staged<span class="w"> </span><span class="k">for</span><span class="w"> </span>commit:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>update<span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git restore &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>discard<span class="w"> </span>changes<span class="w"> </span><span class="k">in</span><span class="w"> </span>working<span class="w"> </span>directory<span class="o">)</span>
<span class="w">    </span>modified:<span class="w">   </span>.DS_Store
<span class="w">    </span>modified:<span class="w">   </span>hello.txt

koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%
</code></pre></div>
<p>如上，在 <code>git rm</code> 删除指定文件前，若该文件有过修改，则拒绝删除，这样做的目的是防止删除未添加到仓库中的数据，这样的数据无法被 git 恢复。确定要删除时可以使用 <code>-f</code> 参数强制删除 (force) 。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>rm<span class="w"> </span>-f<span class="w"> </span>hello.txt
rm<span class="w"> </span><span class="s1">&#39;hello.txt&#39;</span>
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Changes<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>committed:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git restore --staged &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>unstage<span class="o">)</span>
<span class="w">    </span>deleted:<span class="w">    </span>hello.txt

Changes<span class="w"> </span>not<span class="w"> </span>staged<span class="w"> </span><span class="k">for</span><span class="w"> </span>commit:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>update<span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git restore &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>discard<span class="w"> </span>changes<span class="w"> </span><span class="k">in</span><span class="w"> </span>working<span class="w"> </span>directory<span class="o">)</span>
<span class="w">    </span>modified:<span class="w">   </span>.DS_Store

koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%
</code></pre></div>
<p><br /></p>
<h3 id="git-mv">git mv<a class="headerlink" href="#git-mv" title="Permanent link">&para;</a></h3>
<p>使用 <code>git mv</code> 命令修改文件名，例如 <code>git mv a.txt b.txt</code> 相当于如下三行命令。</p>
<div class="highlight"><pre><span></span><code>mv<span class="w"> </span>a.txt<span class="w"> </span>b.txt
git<span class="w"> </span>rm<span class="w"> </span>a.txt
git<span class="w"> </span>add<span class="w"> </span>b.txt
</code></pre></div>
<p><br /></p>
<h3 id="git-log">git log<a class="headerlink" href="#git-log" title="Permanent link">&para;</a></h3>
<p>使用 <code>git log</code> 查看提交历史。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>log
commit<span class="w"> </span>b8d829123843fe1d760983ed5bfc9f2cbcc22d13<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span>
Author:<span class="w"> </span>ikoshiba<span class="w"> </span>&lt;youremail@yama.com&gt;
Date:<span class="w">   </span>Mon<span class="w"> </span>Sep<span class="w"> </span><span class="m">26</span><span class="w"> </span><span class="m">19</span>:54:50<span class="w"> </span><span class="m">2022</span><span class="w"> </span>+0800

<span class="w">    </span>modified<span class="w"> </span>one<span class="w"> </span>line

commit<span class="w"> </span>5f3d03819d450b534153b90531393efd38e6a0a1
Author:<span class="w"> </span>ikoshiba<span class="w"> </span>&lt;youremail@yama.com&gt;
Date:<span class="w">   </span>Mon<span class="w"> </span>Sep<span class="w"> </span><span class="m">26</span><span class="w"> </span><span class="m">19</span>:53:32<span class="w"> </span><span class="m">2022</span><span class="w"> </span>+0800

<span class="w">    </span>first<span class="w"> </span>commit
</code></pre></div>
<p>使用 <code>git log -p</code> 查看每次提交的差异，使用 <code>git log -p -2</code> 查看最近 2 次提交的差异。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>-p
commit<span class="w"> </span>b8d829123843fe1d760983ed5bfc9f2cbcc22d13<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span>
Author:<span class="w"> </span>ikoshiba<span class="w"> </span>&lt;youremail@yama.com&gt;
Date:<span class="w">   </span>Mon<span class="w"> </span>Sep<span class="w"> </span><span class="m">26</span><span class="w"> </span><span class="m">19</span>:54:50<span class="w"> </span><span class="m">2022</span><span class="w"> </span>+0800

<span class="w">    </span>modified<span class="w"> </span>one<span class="w"> </span>line

diff<span class="w"> </span>--git<span class="w"> </span>a/hello.txt<span class="w"> </span>b/hello.txt
index<span class="w"> </span>40f4dc0..06227ce<span class="w"> </span><span class="m">100644</span>
---<span class="w"> </span>a/hello.txt
+++<span class="w"> </span>b/hello.txt
@@<span class="w"> </span>-1,3<span class="w"> </span>+1,3<span class="w"> </span>@@
-hello<span class="w"> </span><span class="m">1</span>
+hello<span class="w"> </span><span class="m">1</span><span class="w"> </span>modified
<span class="w"> </span>hello<span class="w"> </span><span class="m">2</span>
<span class="w"> </span>hello<span class="w"> </span><span class="m">3</span>

commit<span class="w"> </span>5f3d03819d450b534153b90531393efd38e6a0a1
Author:<span class="w"> </span>ikoshiba<span class="w"> </span>&lt;youremail@yama.com&gt;
Date:<span class="w">   </span>Mon<span class="w"> </span>Sep<span class="w"> </span><span class="m">26</span><span class="w"> </span><span class="m">19</span>:53:32<span class="w"> </span><span class="m">2022</span><span class="w"> </span>+0800

<span class="w">    </span>first<span class="w"> </span>commit

diff<span class="w"> </span>--git<span class="w"> </span>a/hello.txt<span class="w"> </span>b/hello.txt
new<span class="w"> </span>file<span class="w"> </span>mode<span class="w"> </span><span class="m">100644</span>
index<span class="w"> </span><span class="m">0000000</span>..40f4dc0
---<span class="w"> </span>/dev/null
+++<span class="w"> </span>b/hello.txt
@@<span class="w"> </span>-0,0<span class="w"> </span>+1,3<span class="w"> </span>@@
+hello<span class="w"> </span><span class="m">1</span>
+hello<span class="w"> </span><span class="m">2</span>
+hello<span class="w"> </span><span class="m">3</span>
</code></pre></div>
<p><code>git log</code> 命令有许多参数可用于调整输出历史记录的信息。</p>
<p><br /></p>
<h3 id="git-reflog">git reflog<a class="headerlink" href="#git-reflog" title="Permanent link">&para;</a></h3>
<p>也可以使用 <code>git reflog</code> 查看缩略的提交历史信息。<code>git reflog -p</code>, <code>git reflog -2</code> 的作用与 <code>git log -p</code> 和 <code>git log -2</code> 类似。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>reflog
b8d8291<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>HEAD@<span class="o">{</span><span class="m">0</span><span class="o">}</span>:<span class="w"> </span>commit:<span class="w"> </span>modified<span class="w"> </span>one<span class="w"> </span>line
5f3d038<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">1</span><span class="o">}</span>:<span class="w"> </span>commit:<span class="w"> </span>first<span class="w"> </span>commit
</code></pre></div>
<p><br /></p>
<h2 id="_6">撤销操作<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>撤销操作</th>
<th>执行前状态</th>
<th>区域变化</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>git commit --amend</td>
<td>未修改</td>
<td>暂存区 &gt; 仓库</td>
<td>修改 message 后提交暂存区，替换掉最后一次提交，即提交数不变 (commit id不同)。</td>
</tr>
<tr>
<td>git commit --amend -m "&lt;提交信息&gt;"</td>
<td>未修改</td>
<td>暂存区 &gt; 仓库</td>
<td>同上，但不会打开编辑器编辑提交信息，而是直接写上提交信息。</td>
</tr>
<tr>
<td>git restore --staged &lt;文件名&gt;</td>
<td>已暂存</td>
<td>暂存区 &gt; 工作区</td>
<td>将指定文件移出暂存区<br />※ 必须指定文件名</td>
</tr>
<tr>
<td>git restore &lt;文件名&gt;</td>
<td>已修改</td>
<td>均在工作区</td>
<td>都在工作目录下，将已修改状态的指定文件回退到未修改的状态，即丢弃指定文件的所有修改。</td>
</tr>
<tr>
<td>git reset HEAD &lt;文件名&gt;</td>
<td>已暂存</td>
<td>暂存区 &gt; 工作区</td>
<td>同 <code>git restore --staged &lt;文件名&gt;</code><br />※ 若不指定文件名，则清空暂存区</td>
</tr>
<tr>
<td>git checkout -- &lt;文件名&gt;</td>
<td>已修改</td>
<td>均在工作区</td>
<td>同 <code>git restore &lt;文件名&gt;</code><br />※ 必须指定文件名</td>
</tr>
</tbody>
</table>
<p><br /></p>
<h3 id="git-commit-amend">git commit --amend<a class="headerlink" href="#git-commit-amend" title="Permanent link">&para;</a></h3>
<p>在某次提交后发现该提交的 message 描述有误，想要修改该 message ，或者想要再 add 一些文件，可以使用 <code>git commit --amend</code> 。</p>
<p>如下先完成两次提交。</p>
<div class="highlight"><pre><span></span><code>commit<span class="w"> </span>6d70b38bd6becddcd2b70fb1a5bc3ee929070497<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span>
Author:<span class="w"> </span>koshiba<span class="w"> </span>&lt;koshiba@163.com&gt;
iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiijjjiiiiiiiiiiiixx
Date:<span class="w">   </span>Wed<span class="w"> </span>Sep<span class="w"> </span><span class="m">28</span><span class="w"> </span><span class="m">20</span>:11:01<span class="w"> </span><span class="m">2022</span><span class="w"> </span>+0800

<span class="w">    </span>first<span class="w"> </span>commit
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>vim<span class="w"> </span>hello.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>.
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;second commit&quot;</span>
<span class="o">[</span>master<span class="w"> </span>6eefb40<span class="o">]</span><span class="w"> </span>second<span class="w"> </span>commit
<span class="w"> </span><span class="m">1</span><span class="w"> </span>file<span class="w"> </span>changed,<span class="w"> </span><span class="m">1</span><span class="w"> </span>insertion<span class="o">(</span>+<span class="o">)</span>,<span class="w"> </span><span class="m">1</span><span class="w"> </span>deletion<span class="o">(</span>-<span class="o">)</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>log
commit<span class="w"> </span>6eefb4065d6b3f02cedf9edce05d3de2afaace87<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span>
Author:<span class="w"> </span>koshiba<span class="w"> </span>&lt;koshiba@163.com&gt;
Date:<span class="w">   </span>Wed<span class="w"> </span>Sep<span class="w"> </span><span class="m">28</span><span class="w"> </span><span class="m">20</span>:11:37<span class="w"> </span><span class="m">2022</span><span class="w"> </span>+0800

<span class="w">    </span>second<span class="w"> </span>commit

commit<span class="w"> </span>6d70b38bd6becddcd2b70fb1a5bc3ee929070497
Author:<span class="w"> </span>koshiba<span class="w"> </span>&lt;koshiba@163.com&gt;
Date:<span class="w">   </span>Wed<span class="w"> </span>Sep<span class="w"> </span><span class="m">28</span><span class="w"> </span><span class="m">20</span>:11:01<span class="w"> </span><span class="m">2022</span><span class="w"> </span>+0800

<span class="w">    </span>first<span class="w"> </span>commit
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
nothing<span class="w"> </span>to<span class="w"> </span>commit,<span class="w"> </span>working<span class="w"> </span>tree<span class="w"> </span>clean
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>修改文件并执行 <code>git add</code> 后，将 message 修改为 "second commit (amend)" 来取代上一次提交。再次执行 <code>git log</code> 可以看到前次提交 (6eefb) 已不显示，取而代之的是新提交 (b299e) ，message 发生变化但提交时间和作者信息与之前是一致的。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>vim<span class="w"> </span>hello.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>hello.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Changes<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>committed:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git restore --staged &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>unstage<span class="o">)</span>
<span class="w">    </span>modified:<span class="w">   </span>hello.txt

koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>--amend<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;second commit (amend)&quot;</span>
<span class="o">[</span>master<span class="w"> </span>b299e54<span class="o">]</span><span class="w"> </span>second<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>amend<span class="o">)</span>
<span class="w"> </span>Date:<span class="w"> </span>Wed<span class="w"> </span>Sep<span class="w"> </span><span class="m">28</span><span class="w"> </span><span class="m">20</span>:11:37<span class="w"> </span><span class="m">2022</span><span class="w"> </span>+0800
<span class="w"> </span><span class="m">1</span><span class="w"> </span>file<span class="w"> </span>changed,<span class="w"> </span><span class="m">1</span><span class="w"> </span>insertion<span class="o">(</span>+<span class="o">)</span>,<span class="w"> </span><span class="m">1</span><span class="w"> </span>deletion<span class="o">(</span>-<span class="o">)</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>log
commit<span class="w"> </span>b299e542f8677f2c1e55b17cd9aa24bb2241ebad<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span>
Author:<span class="w"> </span>koshiba<span class="w"> </span>&lt;koshiba@163.com&gt;
Date:<span class="w">   </span>Wed<span class="w"> </span>Sep<span class="w"> </span><span class="m">28</span><span class="w"> </span><span class="m">20</span>:11:37<span class="w"> </span><span class="m">2022</span><span class="w"> </span>+0800

<span class="w">    </span>second<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>amend<span class="o">)</span>

commit<span class="w"> </span>6d70b38bd6becddcd2b70fb1a5bc3ee929070497
Author:<span class="w"> </span>koshiba<span class="w"> </span>&lt;koshiba@163.com&gt;
Date:<span class="w">   </span>Wed<span class="w"> </span>Sep<span class="w"> </span><span class="m">28</span><span class="w"> </span><span class="m">20</span>:11:01<span class="w"> </span><span class="m">2022</span><span class="w"> </span>+0800

<span class="w">    </span>first<span class="w"> </span>commit
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>每次提交时都可以使用 <code>git commit --amend -m "&lt;message&gt;"</code> 来取代上一次提交，这样无论有多少次提交， <code>git log</code> 都只显示最后一次提交。(但是 <code>git reflog</code> 仍会显示每一次提交) 。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>reflog
b299e54<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>HEAD@<span class="o">{</span><span class="m">0</span><span class="o">}</span>:<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>amend<span class="o">)</span>:<span class="w"> </span>second<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>amend<span class="o">)</span>
6eefb40<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">1</span><span class="o">}</span>:<span class="w"> </span>commit:<span class="w"> </span>second<span class="w"> </span>commit
6d70b38<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">2</span><span class="o">}</span>:<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>initial<span class="o">)</span>:<span class="w"> </span>first<span class="w"> </span>commit
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p><br /></p>
<h3 id="git-restore">git restore<a class="headerlink" href="#git-restore" title="Permanent link">&para;</a></h3>
<p>主要有两种用法，两种用法都必须指定文件名，可以一次指定多个文件 (文件名用空格分开) 。</p>
<ul>
<li>使用 <code>git restore --staged &lt;文件名&gt;</code> 将指定的暂存区中的文件移出暂存区。</li>
<li>使用 <code>git restore &lt;文件名&gt;</code> 将工作目录下的「已修改」文件恢复为未修改状态。</li>
</ul>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>hello.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Changes<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>committed:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git restore --staged &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>unstage<span class="o">)</span>
<span class="w">    </span>modified:<span class="w">   </span>hello.txt

koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>restore<span class="w"> </span>--staged<span class="w"> </span>hello.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Changes<span class="w"> </span>not<span class="w"> </span>staged<span class="w"> </span><span class="k">for</span><span class="w"> </span>commit:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>update<span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git restore &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>discard<span class="w"> </span>changes<span class="w"> </span><span class="k">in</span><span class="w"> </span>working<span class="w"> </span>directory<span class="o">)</span>
<span class="w">    </span>modified:<span class="w">   </span>hello.txt

no<span class="w"> </span>changes<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add&quot;</span><span class="w"> </span>and/or<span class="w"> </span><span class="s2">&quot;git commit -a&quot;</span><span class="o">)</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>restore<span class="w"> </span>hello.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
nothing<span class="w"> </span>to<span class="w"> </span>commit,<span class="w"> </span>working<span class="w"> </span>tree<span class="w"> </span>clean
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p><br /></p>
<h3 id="git-reset">git reset<a class="headerlink" href="#git-reset" title="Permanent link">&para;</a></h3>
<p>使用 <code>git reset HEAD &lt;filename&gt;</code> 将指定的已暂存的文件移出暂存区 (同 <code>git restore --staged &lt;filename&gt;</code> )， 若不指定文件，则取消所有文件的暂存内容 (清空暂存区)。其中，<code>HEAD</code> 表示当前版本，退回到上一个版本可用 <code>HEAD^</code>。</p>
<p><code>git reset HEAD &lt;filename&gt;</code> 与 <code>git restore --staged &lt;filename&gt;</code> 效果相同，但 git 的提示推荐使用 <code>git restore &lt;文件名&gt;</code> 用法。</p>
<p>如下展示 <code>hello.txt</code> 加入暂存区后，执行 <code>git reset HEAD</code> 取消暂存的过程。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>hello.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Changes<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>committed:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git restore --staged &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>unstage<span class="o">)</span>
<span class="w">    </span>modified:<span class="w">   </span>hello.txt

koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>reset<span class="w"> </span>HEAD<span class="w"> </span>hello.txt
Unstaged<span class="w"> </span>changes<span class="w"> </span>after<span class="w"> </span>reset:
M<span class="w">   </span>hello.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Changes<span class="w"> </span>not<span class="w"> </span>staged<span class="w"> </span><span class="k">for</span><span class="w"> </span>commit:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>update<span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git restore &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>discard<span class="w"> </span>changes<span class="w"> </span><span class="k">in</span><span class="w"> </span>working<span class="w"> </span>directory<span class="o">)</span>
<span class="w">    </span>modified:<span class="w">   </span>hello.txt

no<span class="w"> </span>changes<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add&quot;</span><span class="w"> </span>and/or<span class="w"> </span><span class="s2">&quot;git commit -a&quot;</span><span class="o">)</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p><br /></p>
<h3 id="git-checkout-">git checkout --<a class="headerlink" href="#git-checkout-" title="Permanent link">&para;</a></h3>
<p>使用 <code>git checkout -- &lt;filename&gt;</code> 将工作目录下的「已修改」文件恢复为未修改状态，同 <code>git restore &lt;文件名&gt;</code> ，git 的提示推荐使用 <code>git restore &lt;文件名&gt;</code> 用法。</p>
<p>如下，接上一节的操作。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>--<span class="w"> </span>hello.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
nothing<span class="w"> </span>to<span class="w"> </span>commit,<span class="w"> </span>working<span class="w"> </span>tree<span class="w"> </span>clean
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p><br /></p>
<h2 id="_7">切换操作<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h2>
<p>切换操作也属于广义上的撤销，但更强调在版本间穿梭的特点。<code>git reset</code> 的主要能力特点就是能够实现版本之间穿梭的操作，即「切换操作」。</p>
<p>在介绍命令之前有必要先说明如下三个「切换目标」的概念。</p>
<table>
<thead>
<tr>
<th>切换目标</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>HEAD</td>
<td>指向当前分支的当前版本 (commit) 的指针，可以理解为就是当前版本。</td>
</tr>
<tr>
<td>index</td>
<td>可以理解为当前暂存区</td>
</tr>
<tr>
<td>working tree</td>
<td>可以理解为当前工作目录</td>
</tr>
</tbody>
</table>
<p><code>git reset</code> 命令有三种常用模式， <code>--mixed</code> (默认，不显式写出时即为此模式)、<code>--soft</code> 以及 <code>--hard</code> ，分别实现对不同「切换目标」的操作。</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>git reset --soft &lt;版本号&gt;</td>
<td>将 HEAD 指向指定的版本 (commit) ，不改动 index 和 working tree。<br />※ 不可指定文件名 (指定则报错)。</td>
</tr>
<tr>
<td>git reset --mixed  &lt;版本号&gt;</td>
<td>不指定文件。将 HEAD 指向指定的版本 (commit) ，并使得暂存区与指定版本一致，即在指定版本之后加入暂存区的所有文件都移出暂存区。<br />※ <code>--mixed</code> 参数是默认的，也可不写。</td>
</tr>
<tr>
<td>git reset --mixed  &lt;版本号&gt; &lt;文件名&gt;</td>
<td>指定文件。HEAD 指针不变，但指定的文件对应的暂存区内容将切换到指定版本的状态，其他文件在暂存区的内容不变。</td>
</tr>
<tr>
<td>git reset --hard &lt;版本号&gt;</td>
<td>将 HEAD, index 和 working tree 都切换到指定版本号的状态。<br />※ 不可指定文件名 (指定则报错)。</td>
</tr>
</tbody>
</table>
<p>※ 「版本号」可以用 <code>HEAD</code>, <code>HEAD^</code>, <code>HEAD^^</code>, <code>HEAD~1</code>, <code>HEAD~2</code> 等形式表示。HEAD 表示当前版本，HEAD^ 表示当前版本的前一个版本，有多少个 <code>^</code> 就往前多少个版本，<code>~1</code> 表示当前版本的前一个版本，数字是多少，就表示往前多少个版本。</p>
<p>※ 在「撤销操作」中，我们说过 <a href="https://github.blog/2019-08-16-highlights-from-git-2-23/">git 2.23</a> 版本加入 <code>git restore</code> 命令后，推荐使用 <code>git restore --staged &lt;文件名&gt;</code> 来代替 <code>git reset HEAD &lt;filename&gt;</code> ，原因之一就是 <code>git reset</code> 承担的功能太多，有必要引入新的更直观的命令来取代一部分功能。</p>
<p><br /></p>
<h3 id="git-reset-soft">git reset --soft<a class="headerlink" href="#git-reset-soft" title="Permanent link">&para;</a></h3>
<p><code>git reset --soft &lt;commit id&gt;</code> 将 HEAD 指向指定的版本 (commit) ，不改动 index 和 working tree。简单直观的理解即执行后，在版本历史中的第一条 (当前版本) 即为指定的那个版本，除此之外无其他变化。</p>
<p>如下演示 <code>--soft</code> 模式的效果。</p>
<p>首先，依次提交 1.txt , 2.txt 和 3.txt 之后<code>git add</code> 4.txt 但不提交，则当前有 3 个版本，暂存区中有四个文件 (通过 <code>git ls-files</code> 查看)。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>reflog
5bff39f<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>HEAD@<span class="o">{</span><span class="m">0</span><span class="o">}</span>:<span class="w"> </span>commit:<span class="w"> </span>add<span class="w"> </span><span class="m">3</span>
d287e4b<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">1</span><span class="o">}</span>:<span class="w"> </span>commit:<span class="w"> </span>add<span class="w"> </span><span class="m">2</span>
c97c40e<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">2</span><span class="o">}</span>:<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>initial<span class="o">)</span>:<span class="w"> </span>add<span class="w"> </span><span class="m">1</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>ls-files
<span class="m">1</span>.txt
<span class="m">2</span>.txt
<span class="m">3</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>vim<span class="w"> </span><span class="m">4</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span><span class="m">4</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Changes<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>committed:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git restore --staged &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>unstage<span class="o">)</span>
<span class="w">    </span>new<span class="w"> </span>file:<span class="w">   </span><span class="m">4</span>.txt

koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>ls-files
<span class="m">1</span>.txt
<span class="m">2</span>.txt
<span class="m">3</span>.txt
<span class="m">4</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>然后软切换回  (<code>--soft</code>) 第一个版本 (c97c40e)，此时当前分支 (master) 的 HEAD 确实指向了指定的版本。通过 <code>git status</code> 和 <code>git ls-files</code> 可以看到，在暂存区的内容无变化，只不过因为切回了若干个版本，暂存区「领先」了当前版本 (c97c40e) ，因此 2.txt, 3.txt, 4.txt 都是「Changes to be committed」。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>reset<span class="w"> </span>--soft<span class="w"> </span>c97c40e
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>reflog
c97c40e<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>HEAD@<span class="o">{</span><span class="m">0</span><span class="o">}</span>:<span class="w"> </span>reset:<span class="w"> </span>moving<span class="w"> </span>to<span class="w"> </span>c97c40e
5bff39f<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">1</span><span class="o">}</span>:<span class="w"> </span>commit:<span class="w"> </span>add<span class="w"> </span><span class="m">3</span>
d287e4b<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">2</span><span class="o">}</span>:<span class="w"> </span>commit:<span class="w"> </span>add<span class="w"> </span><span class="m">2</span>
c97c40e<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>HEAD@<span class="o">{</span><span class="m">3</span><span class="o">}</span>:<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>initial<span class="o">)</span>:<span class="w"> </span>add<span class="w"> </span><span class="m">1</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Changes<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>committed:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git restore --staged &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>unstage<span class="o">)</span>
<span class="w">    </span>new<span class="w"> </span>file:<span class="w">   </span><span class="m">2</span>.txt
<span class="w">    </span>new<span class="w"> </span>file:<span class="w">   </span><span class="m">3</span>.txt
<span class="w">    </span>new<span class="w"> </span>file:<span class="w">   </span><span class="m">4</span>.txt

koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>ls-files
<span class="m">1</span>.txt
<span class="m">2</span>.txt
<span class="m">3</span>.txt
<span class="m">4</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>由此我们验证了 <code>--soft</code> 模式确实只是将 HEAD 指向指定的版本，暂存区与工作目录无变化。</p>
<p><br /></p>
<h3 id="git-reset-mixed">git reset --mixed<a class="headerlink" href="#git-reset-mixed" title="Permanent link">&para;</a></h3>
<p><code>git reset --mixed &lt;commit id&gt;</code> 命令，可以指定文件或不指定文件，效果不同。</p>
<ul>
<li>不指定文件时。即包含了 <code>--soft</code> 实现的功能，即 <code>HEAD</code> 指针指向指定的版本，又实现了「暂存区」的切换，即使得暂存区与指定版本一致。</li>
<li>指定文件时。<code>HEAD</code> 指针不变，但指定的文件对应的暂存区内容将切换到指定版本的状态。</li>
</ul>
<p>首先，提交 1.txt 作为第一个版本 (fc746eb) ，提交 2-1.txt 和 2-2.txt 作为第二个版本 (d3f6a97) ，提交 3.txt 作为第三个版本 (23a6441) ，将 4.txt 放入暂存区但不提交。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>vim<span class="w"> </span><span class="m">1</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span><span class="m">1</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;add 1.txt&quot;</span>
<span class="o">[</span>master<span class="w"> </span><span class="o">(</span>root-commit<span class="o">)</span><span class="w"> </span>fc746eb<span class="o">]</span><span class="w"> </span>add<span class="w"> </span><span class="m">1</span>.txt
<span class="w"> </span><span class="m">1</span><span class="w"> </span>file<span class="w"> </span>changed,<span class="w"> </span><span class="m">1</span><span class="w"> </span>insertion<span class="o">(</span>+<span class="o">)</span>
<span class="w"> </span>create<span class="w"> </span>mode<span class="w"> </span><span class="m">100644</span><span class="w"> </span><span class="m">1</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>vim<span class="w"> </span><span class="m">2</span>-1.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>vim<span class="w"> </span><span class="m">2</span>-2.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span><span class="m">2</span>-1.txt<span class="w"> </span><span class="m">2</span>-2.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;add 2-1.txt 2-2.txt&quot;</span>
<span class="o">[</span>master<span class="w"> </span>d3f6a97<span class="o">]</span><span class="w"> </span>add<span class="w"> </span><span class="m">2</span>-1.txt<span class="w"> </span><span class="m">2</span>-2.txt
<span class="w"> </span><span class="m">2</span><span class="w"> </span>files<span class="w"> </span>changed,<span class="w"> </span><span class="m">2</span><span class="w"> </span>insertions<span class="o">(</span>+<span class="o">)</span>
<span class="w"> </span>create<span class="w"> </span>mode<span class="w"> </span><span class="m">100644</span><span class="w"> </span><span class="m">2</span>-1.txt
<span class="w"> </span>create<span class="w"> </span>mode<span class="w"> </span><span class="m">100644</span><span class="w"> </span><span class="m">2</span>-2.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>vim<span class="w"> </span><span class="m">3</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span><span class="m">3</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;add 3.txt&quot;</span>
<span class="o">[</span>master<span class="w"> </span>23a6441<span class="o">]</span><span class="w"> </span>add<span class="w"> </span><span class="m">3</span>.txt
<span class="w"> </span><span class="m">1</span><span class="w"> </span>file<span class="w"> </span>changed,<span class="w"> </span><span class="m">1</span><span class="w"> </span>insertion<span class="o">(</span>+<span class="o">)</span>
<span class="w"> </span>create<span class="w"> </span>mode<span class="w"> </span><span class="m">100644</span><span class="w"> </span><span class="m">3</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>vim<span class="w"> </span><span class="m">4</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span><span class="m">4</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Changes<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>committed:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git restore --staged &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>unstage<span class="o">)</span>
<span class="w">    </span>new<span class="w"> </span>file:<span class="w">   </span><span class="m">4</span>.txt

koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>可以看到暂存区中有五个文件，提交历史有三次，当前 HEAD 指向的是提交了 3.txt 的版本。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>ls-files
<span class="m">1</span>.txt
<span class="m">2</span>-1.txt
<span class="m">2</span>-2.txt
<span class="m">3</span>.txt
<span class="m">4</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>reflog
23a6441<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>HEAD@<span class="o">{</span><span class="m">0</span><span class="o">}</span>:<span class="w"> </span>commit:<span class="w"> </span>add<span class="w"> </span><span class="m">3</span>.txt
d3f6a97<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">1</span><span class="o">}</span>:<span class="w"> </span>commit:<span class="w"> </span>add<span class="w"> </span><span class="m">2</span>-1.txt<span class="w"> </span><span class="m">2</span>-2.txt
fc746eb<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">2</span><span class="o">}</span>:<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>initial<span class="o">)</span>:<span class="w"> </span>add<span class="w"> </span><span class="m">1</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>接着执行混合切换 (<code>--mixed</code>) 到第二个版本，即提交了 2-1.txt 和 2-2.txt 的版本 (d3f6a97) ，由于未指定文件，因此实现的效果是 HEAD 指向 d3f6a97 ，且暂存区也恢复到 d3f6a97 的状态。查看提交历史，HEAD 确实为 d3f6a97，且 message 提示了是通过 reset 切换而来的。通过 <code>git ls-files</code> 看到此时暂存区里的文件也确实是第二个版本对应的三个文件 1.txt, 2-1.txt, 2-2.txt ，即相当于把指定版本之后才放到暂存区的文件都移出了暂存区，导致这些文件出现在 <code>git status</code> 的提示中，即他们此时是 「Untracked files」(在指定版本之后才创建的)。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>reset<span class="w"> </span>--mixed<span class="w"> </span>d3f6a97
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>reflog
d3f6a97<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>HEAD@<span class="o">{</span><span class="m">0</span><span class="o">}</span>:<span class="w"> </span>reset:<span class="w"> </span>moving<span class="w"> </span>to<span class="w"> </span>d3f6a97
23a6441<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">1</span><span class="o">}</span>:<span class="w"> </span>commit:<span class="w"> </span>add<span class="w"> </span><span class="m">3</span>.txt
d3f6a97<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>HEAD@<span class="o">{</span><span class="m">2</span><span class="o">}</span>:<span class="w"> </span>commit:<span class="w"> </span>add<span class="w"> </span><span class="m">2</span>-1.txt<span class="w"> </span><span class="m">2</span>-2.txt
fc746eb<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">3</span><span class="o">}</span>:<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>initial<span class="o">)</span>:<span class="w"> </span>add<span class="w"> </span><span class="m">1</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Untracked<span class="w"> </span>files:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>include<span class="w"> </span><span class="k">in</span><span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">    </span><span class="m">3</span>.txt
<span class="w">    </span><span class="m">4</span>.txt

nothing<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>commit<span class="w"> </span>but<span class="w"> </span>untracked<span class="w"> </span>files<span class="w"> </span>present<span class="w"> </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add&quot;</span><span class="w"> </span>to<span class="w"> </span>track<span class="o">)</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>ls-files
<span class="m">1</span>.txt
<span class="m">2</span>-1.txt
<span class="m">2</span>-2.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>接着再测试指定文件的效果，如下，由于 <code>--mixed</code> 是默认的参数，可以省略。执行 <code>git reset fc746eb 2-1.txt</code> 将指定文件 2-1.txt 对应的暂存区内容切换回 <code>fc746eb</code> 版本 (提交了 1.txt 的第一个版本) ，即只将此文件对应暂存区的内容移除对应到指定的版本状态 (对这个例子来说，即移除，因为 1.txt 提交的时候尚未创建 2-1.txt)，其他文件在暂存区的内容保留。</p>
<p>首先通过 <code>git reflog</code> 可以看到 HEAD 不变。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>reset<span class="w"> </span>fc746eb<span class="w"> </span><span class="m">2</span>-1.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>reflog
d3f6a97<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>HEAD@<span class="o">{</span><span class="m">0</span><span class="o">}</span>:<span class="w"> </span>reset:<span class="w"> </span>moving<span class="w"> </span>to<span class="w"> </span>d3f6a97
23a6441<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">1</span><span class="o">}</span>:<span class="w"> </span>commit:<span class="w"> </span>add<span class="w"> </span><span class="m">3</span>.txt
d3f6a97<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>HEAD@<span class="o">{</span><span class="m">2</span><span class="o">}</span>:<span class="w"> </span>commit:<span class="w"> </span>add<span class="w"> </span><span class="m">2</span>-1.txt<span class="w"> </span><span class="m">2</span>-2.txt
fc746eb<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">3</span><span class="o">}</span>:<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>initial<span class="o">)</span>:<span class="w"> </span>add<span class="w"> </span><span class="m">1</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>
</code></pre></div>
<p>接着，通过 <code>git ls-files</code> 看到当前暂存区已无 2-1.txt ，但却有 2-2.txt ，说明只是移除了指定的文件对应的暂存区内容。另外执行 <code>git status</code> 可以看到移出的 2-1.txt 以及在前一次不带文件名的混合切换后移出的 3.txt 和 4.txt 都变为了 「Untracked files」。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Changes<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>committed:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git restore --staged &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>unstage<span class="o">)</span>
<span class="w">    </span>deleted:<span class="w">    </span><span class="m">2</span>-1.txt

Untracked<span class="w"> </span>files:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>include<span class="w"> </span><span class="k">in</span><span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">    </span><span class="m">2</span>-1.txt
<span class="w">    </span><span class="m">3</span>.txt
<span class="w">    </span><span class="m">4</span>.txt

koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>ls-files
<span class="m">1</span>.txt
<span class="m">2</span>-2.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p><br /></p>
<h3 id="git-reset-hard">git reset --hard<a class="headerlink" href="#git-reset-hard" title="Permanent link">&para;</a></h3>
<p><code>git reset --hard &lt;commit id&gt;</code> 命令将 HEAD, index 和 working tree 都切换到指定版本号的状态</p>
<p>接着之前 <code>git reset --mixed</code> 的操作后继续演示，首先执行 <code>git reset 23a6441</code> 恢复到提交了 3.txt 之后的版本状态。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>reset<span class="w"> </span>23a6441
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Untracked<span class="w"> </span>files:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>include<span class="w"> </span><span class="k">in</span><span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">    </span><span class="m">4</span>.txt

nothing<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>commit<span class="w"> </span>but<span class="w"> </span>untracked<span class="w"> </span>files<span class="w"> </span>present<span class="w"> </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add&quot;</span><span class="w"> </span>to<span class="w"> </span>track<span class="o">)</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>ls-files
<span class="m">1</span>.txt
<span class="m">2</span>-1.txt
<span class="m">2</span>-2.txt
<span class="m">3</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>--oneline
23a6441<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>add<span class="w"> </span><span class="m">3</span>.txt
d3f6a97<span class="w"> </span>add<span class="w"> </span><span class="m">2</span>-1.txt<span class="w"> </span><span class="m">2</span>-2.txt
fc746eb<span class="w"> </span>add<span class="w"> </span><span class="m">1</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>然后执行 <code>git reset --hard fc746eb</code> 硬切换回提交了 1.txt 之后的版本。可以看到如下效果，即 HEAD, index (暂存区) 和工作目录确实都切换到了 fc746eb 的状态。略有不同的是此时还存在新建状态但未 <code>git add</code> 的 4.txt，这是因为执行此次硬切换时 4.txt 是未 <code>git add</code> 的状态，不被 git 所管控。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>reset<span class="w"> </span>--hard<span class="w"> </span>fc746eb
HEAD<span class="w"> </span>is<span class="w"> </span>now<span class="w"> </span>at<span class="w"> </span>fc746eb<span class="w"> </span>add<span class="w"> </span><span class="m">1</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>--oneline
fc746eb<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>add<span class="w"> </span><span class="m">1</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>reflog
fc746eb<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>HEAD@<span class="o">{</span><span class="m">0</span><span class="o">}</span>:<span class="w"> </span>reset:<span class="w"> </span>moving<span class="w"> </span>to<span class="w"> </span>fc746eb
23a6441<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">1</span><span class="o">}</span>:<span class="w"> </span>reset:<span class="w"> </span>moving<span class="w"> </span>to<span class="w"> </span>23a6441
d3f6a97<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">2</span><span class="o">}</span>:<span class="w"> </span>reset:<span class="w"> </span>moving<span class="w"> </span>to<span class="w"> </span>d3f6a97
23a6441<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">3</span><span class="o">}</span>:<span class="w"> </span>commit:<span class="w"> </span>add<span class="w"> </span><span class="m">3</span>.txt
d3f6a97<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">4</span><span class="o">}</span>:<span class="w"> </span>commit:<span class="w"> </span>add<span class="w"> </span><span class="m">2</span>-1.txt<span class="w"> </span><span class="m">2</span>-2.txt
fc746eb<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>HEAD@<span class="o">{</span><span class="m">5</span><span class="o">}</span>:<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>initial<span class="o">)</span>:<span class="w"> </span>add<span class="w"> </span><span class="m">1</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Untracked<span class="w"> </span>files:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>include<span class="w"> </span><span class="k">in</span><span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">    </span><span class="m">4</span>.txt

nothing<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>commit<span class="w"> </span>but<span class="w"> </span>untracked<span class="w"> </span>files<span class="w"> </span>present<span class="w"> </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add&quot;</span><span class="w"> </span>to<span class="w"> </span>track<span class="o">)</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>ls-files
<span class="m">1</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>ls<span class="w"> </span>-al
total<span class="w"> </span><span class="m">16</span>
drwxr-xr-x@<span class="w">  </span><span class="m">5</span><span class="w"> </span>koshiba<span class="w">  </span>staff<span class="w">  </span><span class="m">160</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">16</span>:21<span class="w"> </span>.
drwxr-xr-x@<span class="w"> </span><span class="m">10</span><span class="w"> </span>koshiba<span class="w">  </span>staff<span class="w">  </span><span class="m">320</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">16</span>:21<span class="w"> </span>..
drwxr-xr-x@<span class="w"> </span><span class="m">13</span><span class="w"> </span>koshiba<span class="w">  </span>staff<span class="w">  </span><span class="m">416</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">16</span>:20<span class="w"> </span>.git
-rw-r--r--<span class="w">   </span><span class="m">1</span><span class="w"> </span>koshiba<span class="w">  </span>staff<span class="w">    </span><span class="m">3</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">15</span>:34<span class="w"> </span><span class="m">1</span>.txt
-rw-r--r--<span class="w">   </span><span class="m">1</span><span class="w"> </span>koshiba<span class="w">  </span>staff<span class="w">    </span><span class="m">4</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">15</span>:35<span class="w"> </span><span class="m">4</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>如果这时候我们再次硬切换回提交了 3.txt 的版本 (23a6441)，可以看到如下效果，即恢复到了该版本状态，不同的也是 4.txt 仍然存在，原因同前述。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>reset<span class="w"> </span>--hard<span class="w"> </span>23a6441
HEAD<span class="w"> </span>is<span class="w"> </span>now<span class="w"> </span>at<span class="w"> </span>23a6441<span class="w"> </span>add<span class="w"> </span><span class="m">3</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>ls<span class="w"> </span>-al
total<span class="w"> </span><span class="m">40</span>
drwxr-xr-x@<span class="w">  </span><span class="m">8</span><span class="w"> </span>koshiba<span class="w">  </span>staff<span class="w">  </span><span class="m">256</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">16</span>:21<span class="w"> </span>.
drwxr-xr-x@<span class="w"> </span><span class="m">10</span><span class="w"> </span>koshiba<span class="w">  </span>staff<span class="w">  </span><span class="m">320</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">16</span>:21<span class="w"> </span>..
drwxr-xr-x@<span class="w"> </span><span class="m">13</span><span class="w"> </span>koshiba<span class="w">  </span>staff<span class="w">  </span><span class="m">416</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">16</span>:21<span class="w"> </span>.git
-rw-r--r--<span class="w">   </span><span class="m">1</span><span class="w"> </span>koshiba<span class="w">  </span>staff<span class="w">    </span><span class="m">3</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">15</span>:34<span class="w"> </span><span class="m">1</span>.txt
-rw-r--r--<span class="w">   </span><span class="m">1</span><span class="w"> </span>koshiba<span class="w">  </span>staff<span class="w">    </span><span class="m">2</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">16</span>:21<span class="w"> </span><span class="m">2</span>-1.txt
-rw-r--r--<span class="w">   </span><span class="m">1</span><span class="w"> </span>koshiba<span class="w">  </span>staff<span class="w">    </span><span class="m">4</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">16</span>:21<span class="w"> </span><span class="m">2</span>-2.txt
-rw-r--r--<span class="w">   </span><span class="m">1</span><span class="w"> </span>koshiba<span class="w">  </span>staff<span class="w">    </span><span class="m">4</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">16</span>:21<span class="w"> </span><span class="m">3</span>.txt
-rw-r--r--<span class="w">   </span><span class="m">1</span><span class="w"> </span>koshiba<span class="w">  </span>staff<span class="w">    </span><span class="m">4</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">15</span>:35<span class="w"> </span><span class="m">4</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Untracked<span class="w"> </span>files:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>include<span class="w"> </span><span class="k">in</span><span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">    </span><span class="m">4</span>.txt

nothing<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>commit<span class="w"> </span>but<span class="w"> </span>untracked<span class="w"> </span>files<span class="w"> </span>present<span class="w"> </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add&quot;</span><span class="w"> </span>to<span class="w"> </span>track<span class="o">)</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>ls-files
<span class="m">1</span>.txt
<span class="m">2</span>-1.txt
<span class="m">2</span>-2.txt
<span class="m">3</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>--oneline
23a6441<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>add<span class="w"> </span><span class="m">3</span>.txt
d3f6a97<span class="w"> </span>add<span class="w"> </span><span class="m">2</span>-1.txt<span class="w"> </span><span class="m">2</span>-2.txt
fc746eb<span class="w"> </span>add<span class="w"> </span><span class="m">1</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>reflog
23a6441<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>HEAD@<span class="o">{</span><span class="m">0</span><span class="o">}</span>:<span class="w"> </span>reset:<span class="w"> </span>moving<span class="w"> </span>to<span class="w"> </span>23a6441
fc746eb<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">1</span><span class="o">}</span>:<span class="w"> </span>reset:<span class="w"> </span>moving<span class="w"> </span>to<span class="w"> </span>fc746eb
23a6441<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>HEAD@<span class="o">{</span><span class="m">2</span><span class="o">}</span>:<span class="w"> </span>reset:<span class="w"> </span>moving<span class="w"> </span>to<span class="w"> </span>23a6441
d3f6a97<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">3</span><span class="o">}</span>:<span class="w"> </span>reset:<span class="w"> </span>moving<span class="w"> </span>to<span class="w"> </span>d3f6a97
23a6441<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>HEAD@<span class="o">{</span><span class="m">4</span><span class="o">}</span>:<span class="w"> </span>commit:<span class="w"> </span>add<span class="w"> </span><span class="m">3</span>.txt
d3f6a97<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">5</span><span class="o">}</span>:<span class="w"> </span>commit:<span class="w"> </span>add<span class="w"> </span><span class="m">2</span>-1.txt<span class="w"> </span><span class="m">2</span>-2.txt
fc746eb<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">6</span><span class="o">}</span>:<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>initial<span class="o">)</span>:<span class="w"> </span>add<span class="w"> </span><span class="m">1</span>.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p><br /></p>
<h2 id="_8">分支操作<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h2>
<p>分支本质上是指向提交对象的可变指针。</p>
<p><br /></p>
<h3 id="git-branch">git branch<a class="headerlink" href="#git-branch" title="Permanent link">&para;</a></h3>
<p>新建分支本质上是 git 创建了一个可以移动的指向当前提交对象的新指针。</p>
<p>使用 <code>git branch &lt;分支名&gt;</code> 创建分支。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>branch<span class="w"> </span>testing
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>branch<span class="w"> </span>-a
*<span class="w"> </span>master
<span class="w">  </span>remote
<span class="w">  </span>testing
<span class="w">  </span>remotes/origin/master
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>使用  <code>git branch -d &lt;分支名&gt;</code> 删除分支，执行 <code>git branch</code> 查看本地仓库分支列表， <code>*</code> 表示当前分支。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>branch<span class="w"> </span>-d<span class="w"> </span>testing
Deleted<span class="w"> </span>branch<span class="w"> </span>testing<span class="w"> </span><span class="o">(</span>was<span class="w"> </span>070472d<span class="o">)</span>.
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>branch
*<span class="w"> </span>master
<span class="w">  </span>remote
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p><br /></p>
<h3 id="git-switch">git switch<a class="headerlink" href="#git-switch" title="Permanent link">&para;</a></h3>
<p>使用 <code>git switch &lt;分支名&gt;</code> 切换分支。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>branch<span class="w"> </span>testing
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>branch
*<span class="w"> </span>master
<span class="w">  </span>testing
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>switch<span class="w"> </span>testing
Switched<span class="w"> </span>to<span class="w"> </span>branch<span class="w"> </span><span class="s1">&#39;testing&#39;</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>testing
nothing<span class="w"> </span>to<span class="w"> </span>commit,<span class="w"> </span>working<span class="w"> </span>tree<span class="w"> </span>clean
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>switch<span class="w"> </span>-c<span class="w"> </span>fix
Switched<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>branch<span class="w"> </span><span class="s1">&#39;fix&#39;</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>branch
*<span class="w"> </span>fix
<span class="w">  </span>master
<span class="w">  </span>testing
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>使用 <code>git switch -c &lt;分支名&gt;</code> 创建并切换分支。</p>
<p>使用 <code>git switch -</code> 切换到上一次所在分支。</p>
<p><br /></p>
<h3 id="git-checkout">git checkout<a class="headerlink" href="#git-checkout" title="Permanent link">&para;</a></h3>
<p>使用 <code>git checkout &lt;分支名&gt;</code> 切换分支。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>testing
Switched<span class="w"> </span>to<span class="w"> </span>branch<span class="w"> </span><span class="s1">&#39;testing&#39;</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>testing
nothing<span class="w"> </span>to<span class="w"> </span>commit,<span class="w"> </span>working<span class="w"> </span>tree<span class="w"> </span>clean
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>使用 <code>git checkout -b &lt;分支名&gt;</code> 创建并切换分支。</p>
<p><br /></p>
<h3 id="git-merge">git merge<a class="headerlink" href="#git-merge" title="Permanent link">&para;</a></h3>
<p><code>git merge &lt;分支名&gt;</code> 将指定分支合并到当前分支中。合并通常有「快进」和 「三方合并」。</p>
<p>新建并切换到 testing 分支后，在 testing 分支上完成若干次 commit，且 master 无新的 commit，此时切回 master 分支，并执行 <code>git merge</code> 将 testing 合并到当前分支中。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>master
Switched<span class="w"> </span>to<span class="w"> </span>branch<span class="w"> </span><span class="s1">&#39;master&#39;</span>
Your<span class="w"> </span>branch<span class="w"> </span>is<span class="w"> </span>ahead<span class="w"> </span>of<span class="w"> </span><span class="s1">&#39;origin/master&#39;</span><span class="w"> </span>by<span class="w"> </span><span class="m">3</span><span class="w"> </span>commits.
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git push&quot;</span><span class="w"> </span>to<span class="w"> </span>publish<span class="w"> </span>your<span class="w"> </span><span class="nb">local</span><span class="w"> </span>commits<span class="o">)</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>merge<span class="w"> </span>testing
Updating<span class="w"> </span>44f99a2..b4552ad
Fast-forward
<span class="w"> </span>hello.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">2</span><span class="w"> </span>+-
<span class="w"> </span><span class="m">1</span><span class="w"> </span>file<span class="w"> </span>changed,<span class="w"> </span><span class="m">1</span><span class="w"> </span>insertion<span class="o">(</span>+<span class="o">)</span>,<span class="w"> </span><span class="m">1</span><span class="w"> </span>deletion<span class="o">(</span>-<span class="o">)</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>由于 master 是 testing 的直接祖先，master 可顺着 testing 分支的历次 commit 直接到达当前 testing，此情况下的合并无需解决分歧，因此 master 可以「快进」直达 testing，而不会产生新的版本 (快照)，回显中的 <code>Fast-forwad</code> 反映了这一特点。</p>
<p>如下可以看到在 master 分支下合并 testing 分支后，当前 HEAD (55d1aca) 与 testing 最后一次提交是同一个。</p>
<div class="highlight"><pre><span></span><code>55d1aca<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master,<span class="w"> </span>testing<span class="o">)</span><span class="w"> </span>HEAD@<span class="o">{</span><span class="m">0</span><span class="o">}</span>:<span class="w"> </span>merge<span class="w"> </span>testing:<span class="w"> </span>Fast-forward
6255ab9<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">1</span><span class="o">}</span>:<span class="w"> </span>checkout:<span class="w"> </span>moving<span class="w"> </span>from<span class="w"> </span>testing<span class="w"> </span>to<span class="w"> </span>master
55d1aca<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master,<span class="w"> </span>testing<span class="o">)</span><span class="w"> </span>HEAD@<span class="o">{</span><span class="m">2</span><span class="o">}</span>:<span class="w"> </span>commit:<span class="w"> </span>testing<span class="w"> </span>commit
6255ab9<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">3</span><span class="o">}</span>:<span class="w"> </span>checkout:<span class="w"> </span>moving<span class="w"> </span>from<span class="w"> </span>master<span class="w"> </span>to<span class="w"> </span>testing
6255ab9<span class="w"> </span>HEAD@<span class="o">{</span><span class="m">4</span><span class="o">}</span>:<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>initial<span class="o">)</span>:<span class="w"> </span>master<span class="w"> </span>commit
</code></pre></div>
<p>若从分歧点开始 master 和 testing 都各自前进了若干个 commit，则此时合并为「三方合并」。若产生冲突，则有如下提示。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>--oneline<span class="w"> </span>--graph<span class="w"> </span>--all
*<span class="w"> </span>4a3e876<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>testing<span class="o">)</span><span class="w"> </span>testing<span class="w"> </span><span class="m">1</span>
<span class="p">|</span><span class="w"> </span>*<span class="w"> </span>b6c50b9<span class="w"> </span><span class="o">(</span>master<span class="o">)</span><span class="w"> </span>master<span class="w"> </span><span class="m">1</span>
<span class="p">|</span>/
*<span class="w"> </span>b4552ad<span class="w"> </span>modified<span class="w"> </span>hello.txt<span class="w"> </span><span class="m">3</span>
...<span class="o">(</span>略<span class="o">)</span>...
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>merge<span class="w"> </span>testing
Auto-merging<span class="w"> </span>hello.txt
CONFLICT<span class="w"> </span><span class="o">(</span>content<span class="o">)</span>:<span class="w"> </span>Merge<span class="w"> </span>conflict<span class="w"> </span><span class="k">in</span><span class="w"> </span>hello.txt
Automatic<span class="w"> </span>merge<span class="w"> </span>failed<span class="p">;</span><span class="w"> </span>fix<span class="w"> </span>conflicts<span class="w"> </span>and<span class="w"> </span><span class="k">then</span><span class="w"> </span>commit<span class="w"> </span>the<span class="w"> </span>result.
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>解决冲突后，执行 <code>git status</code> 可以看到 <code>All conflicts fixed but you are still merging.</code> ，即说明冲突已解决，根据提示再次提交即完成合并。与「快进」合并不同的是，「三方合并」会生成一个新的快照。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba hello-git % git status
On branch master
Your branch is ahead of &#39;origin/master&#39; by 7 commits.
  (use &quot;git push&quot; to publish your local commits)

All conflicts fixed but you are still merging.
  (use &quot;git commit&quot; to conclude merge)

koshiba@koshiba hello-git %
koshiba@koshiba hello-git % git commit
[master b8da922] Merge branch &#39;testing&#39;
koshiba@koshiba hello-git % git log --oneline --graph --all
*   b8da922 (HEAD -&gt; master) Merge branch &#39;testing&#39;
|\
| * 4a3e876 (testing) testing 1
* | b6c50b9 master 1
|/
* b4552ad modified hello.txt 3
...(略)...
</code></pre></div>
<p>使用如下命令随时以图形形式查看不同分支的前进和合并过程。</p>
<div class="highlight"><pre><span></span><code>git log --oneline --decorate --graph --all
</code></pre></div>
<p><br /></p>
<h3 id="git-rebase">git rebase<a class="headerlink" href="#git-rebase" title="Permanent link">&para;</a></h3>
<p>两分支从分叉处开始各自有若干提交，合并这两个分支的另一种方式是 <code>git rebase</code> (变基)，与 <code>git merge</code> 执行「三方合并」不同的是，<code>git rebase</code> 会在当前分支下重放另一个分支在分叉处后的历次提交，最终得到一个新提交，结果与 <code>git merge</code> 相同，但提交历史更整洁，分支虽并行，但变基之后的提交历史是一条串行的直线。</p>
<p>当前分叉后 master 分支和 testing 分支各有一个提交版本。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>--oneline<span class="w"> </span>--decorate<span class="w"> </span>--graph<span class="w"> </span>--all
*<span class="w"> </span>e2f517c<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>testing<span class="o">)</span><span class="w"> </span>testing<span class="w"> </span>modified<span class="w"> </span><span class="m">1</span>
<span class="p">|</span><span class="w"> </span>*<span class="w"> </span>ae47d2e<span class="w"> </span><span class="o">(</span>master<span class="o">)</span><span class="w"> </span>master<span class="w"> </span>modified<span class="w"> </span><span class="m">1</span>
<span class="p">|</span><span class="w"> </span>*<span class="w">   </span>b8da922<span class="w"> </span>Merge<span class="w"> </span>branch<span class="w"> </span><span class="s1">&#39;testing&#39;</span>
<span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="se">\</span>
<span class="p">|</span><span class="w"> </span><span class="p">|</span>/
<span class="p">|</span>/<span class="p">|</span>
*<span class="w"> </span><span class="p">|</span><span class="w"> </span>4a3e876<span class="w"> </span>testing<span class="w"> </span><span class="m">1</span>
...<span class="o">(</span>略<span class="o">)</span>...
</code></pre></div>
<p>切回 master ，执行变基，如下，有冲突，根据提示先解决冲突。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>master
Switched<span class="w"> </span>to<span class="w"> </span>branch<span class="w"> </span><span class="s1">&#39;master&#39;</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>rebase<span class="w"> </span>testing
Auto-merging<span class="w"> </span>hello.txt
CONFLICT<span class="w"> </span><span class="o">(</span>content<span class="o">)</span>:<span class="w"> </span>Merge<span class="w"> </span>conflict<span class="w"> </span><span class="k">in</span><span class="w"> </span>hello.txt
error:<span class="w"> </span>could<span class="w"> </span>not<span class="w"> </span>apply<span class="w"> </span>b6c50b9...<span class="w"> </span>master<span class="w"> </span><span class="m">1</span>
hint:<span class="w"> </span>Resolve<span class="w"> </span>all<span class="w"> </span>conflicts<span class="w"> </span>manually,<span class="w"> </span>mark<span class="w"> </span>them<span class="w"> </span>as<span class="w"> </span>resolved<span class="w"> </span>with
hint:<span class="w"> </span><span class="s2">&quot;git add/rm &lt;conflicted_files&gt;&quot;</span>,<span class="w"> </span><span class="k">then</span><span class="w"> </span>run<span class="w"> </span><span class="s2">&quot;git rebase --continue&quot;</span>.
hint:<span class="w"> </span>You<span class="w"> </span>can<span class="w"> </span>instead<span class="w"> </span>skip<span class="w"> </span>this<span class="w"> </span>commit:<span class="w"> </span>run<span class="w"> </span><span class="s2">&quot;git rebase --skip&quot;</span>.
hint:<span class="w"> </span>To<span class="w"> </span>abort<span class="w"> </span>and<span class="w"> </span>get<span class="w"> </span>back<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>state<span class="w"> </span>before<span class="w"> </span><span class="s2">&quot;git rebase&quot;</span>,<span class="w"> </span>run<span class="w"> </span><span class="s2">&quot;git rebase --abort&quot;</span>.
Could<span class="w"> </span>not<span class="w"> </span>apply<span class="w"> </span>b6c50b9...<span class="w"> </span>master<span class="w"> </span><span class="m">1</span>
</code></pre></div>
<p>解决冲突后，对冲突文件执行 <code>git add</code> 后，再次执行变基 <code>git rebase --continue</code> 。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>rebase<span class="w"> </span>--continue
Successfully<span class="w"> </span>rebased<span class="w"> </span>and<span class="w"> </span>updated<span class="w"> </span>refs/heads/master.
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>--oneline<span class="w"> </span>--decorate<span class="w"> </span>--graph<span class="w"> </span>--all
*<span class="w"> </span>e2f517c<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master,<span class="w"> </span>testing<span class="o">)</span><span class="w"> </span>testing<span class="w"> </span>modified<span class="w"> </span><span class="m">1</span>
*<span class="w"> </span>4a3e876<span class="w"> </span>testing<span class="w"> </span><span class="m">1</span>
...<span class="o">(</span>略<span class="o">)</span>...
</code></pre></div>
<p>也可以直接执行 <code>git rebase &lt;basebranch&gt; &lt;topicbranch&gt;</code> 将 topicbranch 分叉后的修改在 basebranch 上重放，省去了 <code>git checkout</code> 切换到 basebranch 的操作。</p>
<p><strong>变基的原则</strong>：只对尚未推送的本地修改执行变基，而不对本地仓库外有副本的分支执行变基。</p>
<p><br /></p>
<h2 id="_9">远程操作<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h2>
<p>本地仓库与远程仓库之间建立关联的方式如下。</p>
<ul>
<li>方式一(本地到远程)：先建立本地仓库，然后将本地仓库推送到远程。</li>
<li>方式二(远程到本地)：先建立远程仓库，然后在本地克隆远程仓库。</li>
</ul>
<p><br /></p>
<h3 id="git-remote">git remote<a class="headerlink" href="#git-remote" title="Permanent link">&para;</a></h3>
<p>实现从本地到远程的方式一，首先要使用 <code>git remote add &lt;仓库别名&gt; &lt;url/ssh&gt;</code> 关联本地仓库与远程 github 仓库。根据通信协议的不同，分为 https 方式和 ssh 方式。</p>
<p><br /></p>
<h4 id="https">https方式<a class="headerlink" href="#https" title="Permanent link">&para;</a></h4>
<p>【1. 关联本地仓库与远程仓库】</p>
<p>执行如下命令完成关联，并检查关联结果。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>remote<span class="w"> </span>add<span class="w"> </span>origin<span class="w"> </span>https://github.com/ikoshiba/git-demo.git
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>remote
origin
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>remote<span class="w"> </span>-v
origin<span class="w">  </span>https://github.com/ikoshiba/git-demo.git<span class="w"> </span><span class="o">(</span>fetch<span class="o">)</span>
origin<span class="w">  </span>https://github.com/ikoshiba/git-demo.git<span class="w"> </span><span class="o">(</span>push<span class="o">)</span>
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%
</code></pre></div>
<p><br /></p>
<p>【2. 在 github 上创建远程仓库】</p>
<p>仓库名通常与本地仓库相同，但也可以不同。</p>
<p><br /></p>
<p>【3. 推送】</p>
<p>关联后执行 <code>git push -u origin master</code> 推送本地仓库到远程仓库中。其中 <code>-u</code> 参数是 <code>--set-upstream</code> 的缩略，使得当前本地分支 <code>master</code>  与远程仓库分支 <code>master</code> 关联起来，后续再推送时，就只需要执行 <code>git push</code> 即可。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>-u<span class="w"> </span>origin<span class="w"> </span>master
Username<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s1">&#39;https://github.com&#39;</span>:<span class="w"> </span>ikoshiba
Password<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s1">&#39;https://ikoshiba@github.com&#39;</span>:
remote:<span class="w"> </span>Support<span class="w"> </span><span class="k">for</span><span class="w"> </span>password<span class="w"> </span>authentication<span class="w"> </span>was<span class="w"> </span>removed<span class="w"> </span>on<span class="w"> </span>August<span class="w"> </span><span class="m">13</span>,<span class="w"> </span><span class="m">2021</span>.
remote:<span class="w"> </span>Please<span class="w"> </span>see<span class="w"> </span>https://docs.github.com/en/get-started/getting-started-with-git/about-remote-repositories#cloning-with-https-urls<span class="w"> </span><span class="k">for</span><span class="w"> </span>information<span class="w"> </span>on<span class="w"> </span>currently<span class="w"> </span>recommended<span class="w"> </span>modes<span class="w"> </span>of<span class="w"> </span>authentication.
fatal:<span class="w"> </span>Authentication<span class="w"> </span>failed<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s1">&#39;https://github.com/ikoshiba/git-demo.git/&#39;</span>
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%
</code></pre></div>
<p>注意，根据如上提示，github 从 2021年8月13日起，https 方式的接入校验不再支持使用 <strong>普通密码</strong> 的方式，目前支持使用 <strong>Personal Access Token</strong> 来完成认证，即 <code>Password for 'https://...'</code> 处应当填写目标 github 账号的 Personal Access Token (PAT) ，设置方式在 <a href="https://docs.github.com/cn/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token">这里</a> 查看。</p>
<p>填入正确的 PAT 后即可成功推送，如下。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>-u<span class="w"> </span>origin<span class="w"> </span>master
Username<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s1">&#39;https://github.com&#39;</span>:<span class="w"> </span>ikoshiba
Password<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s1">&#39;https://ikoshiba@github.com&#39;</span>:
Enumerating<span class="w"> </span>objects:<span class="w"> </span><span class="m">57</span>,<span class="w"> </span><span class="k">done</span>.
Counting<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">57</span>/57<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
Delta<span class="w"> </span>compression<span class="w"> </span>using<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span><span class="m">8</span><span class="w"> </span>threads
Compressing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">37</span>/37<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
Writing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">57</span>/57<span class="o">)</span>,<span class="w"> </span><span class="m">5</span>.02<span class="w"> </span>KiB<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">642</span>.00<span class="w"> </span>KiB/s,<span class="w"> </span><span class="k">done</span>.
Total<span class="w"> </span><span class="m">57</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">5</span><span class="o">)</span>,<span class="w"> </span>reused<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">0</span><span class="o">)</span>,<span class="w"> </span>pack-reused<span class="w"> </span><span class="m">0</span>
remote:<span class="w"> </span>Resolving<span class="w"> </span>deltas:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">5</span>/5<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
To<span class="w"> </span>https://github.com/ikoshiba/git-demo.git
<span class="w"> </span>*<span class="w"> </span><span class="o">[</span>new<span class="w"> </span>branch<span class="o">]</span><span class="w">      </span>master<span class="w"> </span>-&gt;<span class="w"> </span>master
branch<span class="w"> </span><span class="s1">&#39;master&#39;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span>track<span class="w"> </span><span class="s1">&#39;origin/master&#39;</span>.
koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%
</code></pre></div>
<p>注意，如果没有事先在 github 上创建目标关联远程仓库的话，推送将会失败，并显示失败原因是找不到指定的远程仓库。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>git-demo<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>-u<span class="w"> </span>origin<span class="w"> </span>master
remote:<span class="w"> </span>Repository<span class="w"> </span>not<span class="w"> </span>found.
fatal:<span class="w"> </span>repository<span class="w"> </span><span class="s1">&#39;https://github.com/ikoshiba/git-demo.git/&#39;</span><span class="w"> </span>not<span class="w"> </span>found
koshiba@koshiba<span class="w"> </span>git-demo
</code></pre></div>
<p><br /></p>
<p>【4. 查看远程库信息】</p>
<p>执行 <code>git remote show origin</code> 查看远程库信息。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>remote<span class="w"> </span>show<span class="w"> </span>origin
*<span class="w"> </span>remote<span class="w"> </span>origin
<span class="w">  </span>Fetch<span class="w"> </span>URL:<span class="w"> </span>https://github.com/ikoshiba/hello-git.git
<span class="w">  </span>Push<span class="w">  </span>URL:<span class="w"> </span>https://github.com/ikoshiba/hello-git.git
<span class="w">  </span>HEAD<span class="w"> </span>branch:<span class="w"> </span>master
<span class="w">  </span>Remote<span class="w"> </span>branch:
<span class="w">    </span>master<span class="w"> </span>tracked
<span class="w">  </span>Local<span class="w"> </span>branch<span class="w"> </span>configured<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s1">&#39;git pull&#39;</span>:
<span class="w">    </span>master<span class="w"> </span>merges<span class="w"> </span>with<span class="w"> </span>remote<span class="w"> </span>master
<span class="w">  </span>Local<span class="w"> </span>ref<span class="w"> </span>configured<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s1">&#39;git push&#39;</span>:
<span class="w">    </span>master<span class="w"> </span>pushes<span class="w"> </span>to<span class="w"> </span>master<span class="w"> </span><span class="o">(</span>up<span class="w"> </span>to<span class="w"> </span>date<span class="o">)</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p><br /></p>
<h4 id="ssh">ssh方式<a class="headerlink" href="#ssh" title="Permanent link">&para;</a></h4>
<p>https 方式每次推送都需要认证，比较麻烦，我们可以采用 ssh 方式约定本地仓库与远程仓库的公私钥，即可自动认证。</p>
<p>通常情况下客户端环境只需要一对公私钥建立到 github 远程库的 ssh 通信。若希望在同一个客户端下与多个 github 账号下的仓库建立 ssh 通信，则由于 github 不同账号下的公钥必须不同，相应地，在本地创建公私钥对时，也需要创建多对。</p>
<p>如下演示如何创建两对不同的公私钥，并应用到对不同的 github 账号的 ssh 连接中。</p>
<p>【1. ssh-keygen 命令生成公私钥对】</p>
<p>执行 <code>ssh-keygen -t rsa -C "yuki.com"</code> 命令生成公私钥对。<code>-t</code> 选择加密算法， <code>-C</code> 添加备注，习惯上会填写一个邮箱地址，也可以填写其他字符串。</p>
<table>
<thead>
<tr>
<th>设置</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>Enter file in which to save the key ()</td>
<td>括号后是默认公私钥路径和名称<br />私钥默认名: id_rsa<br />公钥默认名: id_rsa.pub</td>
</tr>
<tr>
<td>Enter passphrase</td>
<td>加密串，即 ssh 通信时的口令，通常不使用，回车即可</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>~<span class="w"> </span>%<span class="w"> </span>ssh-keygen<span class="w"> </span>-t<span class="w"> </span>rsa<span class="w"> </span>-C<span class="w"> </span><span class="s2">&quot;yuki.com&quot;</span>
Generating<span class="w"> </span>public/private<span class="w"> </span>rsa<span class="w"> </span>key<span class="w"> </span>pair.
Enter<span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span>which<span class="w"> </span>to<span class="w"> </span>save<span class="w"> </span>the<span class="w"> </span>key<span class="w"> </span><span class="o">(</span>/Users/koshiba/.ssh/id_rsa<span class="o">)</span>:<span class="w"> </span>/Users/koshiba/.ssh/id_rsa_163
Enter<span class="w"> </span>passphrase<span class="w"> </span><span class="o">(</span>empty<span class="w"> </span><span class="k">for</span><span class="w"> </span>no<span class="w"> </span>passphrase<span class="o">)</span>:
Enter<span class="w"> </span>same<span class="w"> </span>passphrase<span class="w"> </span>again:
Your<span class="w"> </span>identification<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>saved<span class="w"> </span><span class="k">in</span><span class="w"> </span>/Users/koshiba/.ssh/id_rsa_163
Your<span class="w"> </span>public<span class="w"> </span>key<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>saved<span class="w"> </span><span class="k">in</span><span class="w"> </span>/Users/koshiba/.ssh/id_rsa_163.pub
The<span class="w"> </span>key<span class="w"> </span>fingerprint<span class="w"> </span>is:
SHA256:rS6a3ou3HauNl0w+1Y5v6oTzbVo7xu/PKaOVIQbMCoI<span class="w"> </span>yuki.com
The<span class="w"> </span>key<span class="err">&#39;</span>s<span class="w"> </span>randomart<span class="w"> </span>image<span class="w"> </span>is:
+---<span class="o">[</span>RSA<span class="w"> </span><span class="m">3072</span><span class="o">]</span>----+
<span class="p">|</span><span class="w">                 </span><span class="p">|</span>
<span class="p">|</span><span class="w">  </span>.<span class="w">     </span>o<span class="w">        </span><span class="p">|</span>
<span class="p">|</span><span class="w"> </span>E<span class="w"> </span>.<span class="w"> </span>.<span class="w">   </span>+<span class="w">       </span><span class="p">|</span>
<span class="p">|</span><span class="w">    </span>.<span class="w"> </span>.<span class="w"> </span>...<span class="w">      </span><span class="p">|</span>
<span class="p">|</span><span class="w">       </span>.S<span class="w"> </span>.+<span class="w"> </span>.<span class="w">   </span><span class="p">|</span>
<span class="p">|</span><span class="w">        </span>.oo<span class="w"> </span>o<span class="w"> </span>o<span class="w">  </span><span class="p">|</span>
<span class="p">|</span><span class="w">       </span>+<span class="o">=</span>o.+.o<span class="w">   </span><span class="p">|</span>
<span class="p">|</span><span class="w">     </span>+o<span class="o">=</span>**.oO+<span class="w"> </span>..<span class="p">|</span>
<span class="p">|</span><span class="w">   </span>.<span class="o">=</span>o**<span class="o">=</span><span class="nv">o</span><span class="o">=</span><span class="nv">O</span><span class="o">=</span>+<span class="o">=</span>oo<span class="p">|</span>
+----<span class="o">[</span>SHA256<span class="o">]</span>-----+
koshiba@koshiba<span class="w"> </span>~<span class="w"> </span>%<span class="w"> </span>
</code></pre></div>
<p>接着执行 <code>ssh-keygen -t rsa -C "yama.com"</code> 生成另一对公私钥对，在 <code>~/.ssh</code> 下可以看到如下两对公私钥对。</p>
<div class="highlight"><pre><span></span><code>id_rsa_163
id_rsa_163.pub
id_rsa_outlook
id_rsa_outlook.pub
</code></pre></div>
<p>【2. 在 <code>.ssh</code> 下创建 <code>config</code> 文件】</p>
<p>创建如下 <code>config</code> 文件。</p>
<div class="highlight"><pre><span></span><code># github-163
Host github.com.163
HostName github.com
PreferredAuthentications publickey
IdentityFile ~/.ssh/id_rsa_163

# github-outlook
Host github.com.outlook
HostName github.com
PreferredAuthentications publickey
IdentityFile ~/.ssh/id_rsa_outlook
</code></pre></div>
<p>后面我们会看到，将指定的公私钥对与指定的 github 账户相关联的关键是 <code>Host</code> ，它是远程托管服务端的别名，在使用 <code>git@&lt;host&gt;</code> 方式执行 ssh 连接时，<code>&lt;host&gt;</code> 填入的即 <code>Host</code> 。</p>
<p><code>Host</code> 与 <code>IdentityFile</code> 决定了公私钥对与具体账户的对应关系 (该账户下用公钥与 <code>IdentifyFile</code> 中指定的一样) ，而实际上会连接 <code>Hostname</code> 。</p>
<p>【3. 将公钥添加对应的 github 账户中】</p>
<p>在 github 的 <code>setting &gt; SSH and GPG keys &gt; SSH keys</code> 中点击 <code>New SSH key</code> 添加公钥的内容。</p>
<p>使用 <code>ssh -T git@github.com.outlook</code> 命令测试 ssh 连接，出现如下提示即说明可通过 ssh 方式通信。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>ssh<span class="w"> </span>-T<span class="w"> </span>git@github.com.outlook
Hi<span class="w"> </span>ikoshiba!<span class="w"> </span>You<span class="err">&#39;</span>ve<span class="w"> </span>successfully<span class="w"> </span>authenticated,<span class="w"> </span>but<span class="w"> </span>GitHub<span class="w"> </span>does<span class="w"> </span>not<span class="w"> </span>provide<span class="w"> </span>shell<span class="w"> </span>access.
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>【4. 关联本地仓库与远程仓库】</p>
<p>使用 <code>git remote add</code> 命令关联本地仓库与远程仓库。若当前存在 https 方式的关联，先执行 <code>git remote rm origin</code> 删除。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>remote<span class="w"> </span>add<span class="w"> </span>origin<span class="w"> </span>git@github.com.outlook:ikoshiba/hello-git.git
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>remote<span class="w"> </span>-v
origin<span class="w">  </span>git@github.com.outlook:ikoshiba/hello-git.git<span class="w"> </span><span class="o">(</span>fetch<span class="o">)</span>
origin<span class="w">  </span>git@github.com.outlook:ikoshiba/hello-git.git<span class="w"> </span><span class="o">(</span>push<span class="o">)</span>
</code></pre></div>
<p>【5. 推送】</p>
<p>与 https 方式一样，推送前也要提前在 github 中创建好目标远程仓库，否则会报如下错 <code>ERROR: Repository not found.</code> 。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>-u<span class="w"> </span>origin<span class="w"> </span>master
ERROR:<span class="w"> </span>Repository<span class="w"> </span>not<span class="w"> </span>found.
fatal:<span class="w"> </span>Could<span class="w"> </span>not<span class="w"> </span><span class="nb">read</span><span class="w"> </span>from<span class="w"> </span>remote<span class="w"> </span>repository.
</code></pre></div>
<p>创建后再次推送成功，远程库中也出现了本地库推送的文件。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>-u<span class="w"> </span>origin<span class="w"> </span>master
Enumerating<span class="w"> </span>objects:<span class="w"> </span><span class="m">57</span>,<span class="w"> </span><span class="k">done</span>.
Counting<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">57</span>/57<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
Delta<span class="w"> </span>compression<span class="w"> </span>using<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span><span class="m">8</span><span class="w"> </span>threads
Compressing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">32</span>/32<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
Writing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">57</span>/57<span class="o">)</span>,<span class="w"> </span><span class="m">5</span>.02<span class="w"> </span>KiB<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">5</span>.02<span class="w"> </span>MiB/s,<span class="w"> </span><span class="k">done</span>.
Total<span class="w"> </span><span class="m">57</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">5</span><span class="o">)</span>,<span class="w"> </span>reused<span class="w"> </span><span class="m">57</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">5</span><span class="o">)</span>,<span class="w"> </span>pack-reused<span class="w"> </span><span class="m">0</span>
remote:<span class="w"> </span>Resolving<span class="w"> </span>deltas:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">5</span>/5<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
To<span class="w"> </span>github.com.outlook:ikoshiba/hello-git.git
<span class="w"> </span>*<span class="w"> </span><span class="o">[</span>new<span class="w"> </span>branch<span class="o">]</span><span class="w">      </span>master<span class="w"> </span>-&gt;<span class="w"> </span>master
branch<span class="w"> </span><span class="s1">&#39;master&#39;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span>track<span class="w"> </span><span class="s1">&#39;origin/master&#39;</span>.
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>【6. 查看远程库信息】</p>
<p>执行 <code>git remote show origin</code> 查看远程库信息。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>remote<span class="w"> </span>show<span class="w"> </span>origin
*<span class="w"> </span>remote<span class="w"> </span>origin
<span class="w">  </span>Fetch<span class="w"> </span>URL:<span class="w"> </span>git@github.com.outlook:ikoshiba/hello-git.git
<span class="w">  </span>Push<span class="w">  </span>URL:<span class="w"> </span>git@github.com.outlook:ikoshiba/hello-git.git
<span class="w">  </span>HEAD<span class="w"> </span>branch:<span class="w"> </span>master
<span class="w">  </span>Remote<span class="w"> </span>branch:
<span class="w">    </span>master<span class="w"> </span>tracked
<span class="w">  </span>Local<span class="w"> </span>branch<span class="w"> </span>configured<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s1">&#39;git pull&#39;</span>:
<span class="w">    </span>master<span class="w"> </span>merges<span class="w"> </span>with<span class="w"> </span>remote<span class="w"> </span>master
<span class="w">  </span>Local<span class="w"> </span>ref<span class="w"> </span>configured<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s1">&#39;git push&#39;</span>:
<span class="w">    </span>master<span class="w"> </span>pushes<span class="w"> </span>to<span class="w"> </span>master<span class="w"> </span><span class="o">(</span>up<span class="w"> </span>to<span class="w"> </span>date<span class="o">)</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p><br /></p>
<h4 id="rename">rename<a class="headerlink" href="#rename" title="Permanent link">&para;</a></h4>
<p>可以通过 <code>git remote rename &lt;当前别名&gt; &lt;新别名&gt;</code> 来修改远程仓库地址别名。下面是一些修改后的操作，可以看到远程仓库地址别名已经变为 <code>main</code> ，原先的 <code>origin</code> 已不可用，且远程仓库分支也相应变为 <code>main/master</code> 。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>remote<span class="w"> </span>rename<span class="w"> </span>origin<span class="w"> </span>main
Renaming<span class="w"> </span>remote<span class="w"> </span>references:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">1</span>/1<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>remote
main
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>remote<span class="w"> </span>-v
main<span class="w">    </span>git@github.com.outlook:ikoshiba/hello-git.git<span class="w"> </span><span class="o">(</span>fetch<span class="o">)</span>
main<span class="w">    </span>git@github.com.outlook:ikoshiba/hello-git.git<span class="w"> </span><span class="o">(</span>push<span class="o">)</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>branch<span class="w"> </span>-r
<span class="w">  </span>main/master
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>branch<span class="w"> </span>-a
*<span class="w"> </span>master
<span class="w">  </span>remote
<span class="w">  </span>remotes/main/master
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>push
Everything<span class="w"> </span>up-to-date
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>main<span class="w"> </span>master
Everything<span class="w"> </span>up-to-date
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>remote<span class="w"> </span>show<span class="w"> </span>origin
fatal:<span class="w"> </span><span class="s1">&#39;origin&#39;</span><span class="w"> </span>does<span class="w"> </span>not<span class="w"> </span>appear<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>a<span class="w"> </span>git<span class="w"> </span>repository
fatal:<span class="w"> </span>Could<span class="w"> </span>not<span class="w"> </span><span class="nb">read</span><span class="w"> </span>from<span class="w"> </span>remote<span class="w"> </span>repository.

Please<span class="w"> </span>make<span class="w"> </span>sure<span class="w"> </span>you<span class="w"> </span>have<span class="w"> </span>the<span class="w"> </span>correct<span class="w"> </span>access<span class="w"> </span>rights
and<span class="w"> </span>the<span class="w"> </span>repository<span class="w"> </span>exists.
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>remote<span class="w"> </span>show<span class="w"> </span>main
*<span class="w"> </span>remote<span class="w"> </span>main
<span class="w">  </span>Fetch<span class="w"> </span>URL:<span class="w"> </span>git@github.com.outlook:ikoshiba/hello-git.git
<span class="w">  </span>Push<span class="w">  </span>URL:<span class="w"> </span>git@github.com.outlook:ikoshiba/hello-git.git
<span class="w">  </span>HEAD<span class="w"> </span>branch:<span class="w"> </span>master
<span class="w">  </span>Remote<span class="w"> </span>branch:
<span class="w">    </span>master<span class="w"> </span>tracked
<span class="w">  </span>Local<span class="w"> </span>branch<span class="w"> </span>configured<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s1">&#39;git pull&#39;</span>:
<span class="w">    </span>master<span class="w"> </span>merges<span class="w"> </span>with<span class="w"> </span>remote<span class="w"> </span>master
<span class="w">  </span>Local<span class="w"> </span>ref<span class="w"> </span>configured<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s1">&#39;git push&#39;</span>:
<span class="w">    </span>master<span class="w"> </span>pushes<span class="w"> </span>to<span class="w"> </span>master<span class="w"> </span><span class="o">(</span>up<span class="w"> </span>to<span class="w"> </span>date<span class="o">)</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>reflog<span class="w"> </span>main/master
be33e38<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master,<span class="w"> </span>main/master<span class="o">)</span><span class="w"> </span>refs/remotes/main/master@<span class="o">{</span><span class="m">0</span><span class="o">}</span>:<span class="w"> </span>remote:<span class="w"> </span>renamed<span class="w"> </span>refs/remotes/origin/master<span class="w"> </span>to<span class="w"> </span>refs/remotes/main/master
be33e38<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master,<span class="w"> </span>main/master<span class="o">)</span><span class="w"> </span>refs/remotes/main/master@<span class="o">{</span><span class="m">1</span><span class="o">}</span>:<span class="w"> </span>update<span class="w"> </span>by<span class="w"> </span>push
ad50bf4<span class="w"> </span>refs/remotes/main/master@<span class="o">{</span><span class="m">2</span><span class="o">}</span>:<span class="w"> </span>fetch:<span class="w"> </span>fast-forward
edf13a1<span class="w"> </span>refs/remotes/main/master@<span class="o">{</span><span class="m">3</span><span class="o">}</span>:<span class="w"> </span>fetch:<span class="w"> </span>fast-forward
b0c4efa<span class="w"> </span><span class="o">(</span>remote<span class="o">)</span><span class="w"> </span>refs/remotes/main/master@<span class="o">{</span><span class="m">4</span><span class="o">}</span>:<span class="w"> </span>update<span class="w"> </span>by<span class="w"> </span>push
de2bb32<span class="w"> </span>refs/remotes/main/master@<span class="o">{</span><span class="m">5</span><span class="o">}</span>:<span class="w"> </span>fetch:<span class="w"> </span>fast-forward
a343286<span class="w"> </span>refs/remotes/main/master@<span class="o">{</span><span class="m">6</span><span class="o">}</span>:<span class="w"> </span>update<span class="w"> </span>by<span class="w"> </span>push
eeeea6f<span class="w"> </span>refs/remotes/main/master@<span class="o">{</span><span class="m">7</span><span class="o">}</span>:<span class="w"> </span>pull:<span class="w"> </span>fast-forward
2464feb<span class="w"> </span>refs/remotes/main/master@<span class="o">{</span><span class="m">8</span><span class="o">}</span>:<span class="w"> </span>update<span class="w"> </span>by<span class="w"> </span>push
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p><br /></p>
<h4 id="remove">remove<a class="headerlink" href="#remove" title="Permanent link">&para;</a></h4>
<p>使用 <code>git remote remove &lt;远程仓库地址别名&gt;</code> 来解除本地仓库与远程仓库的关联。<code>remove</code> 也可以简写为 <code>rm</code> 。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>remote<span class="w"> </span>remove<span class="w"> </span>main
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>remote
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>branch<span class="w"> </span>-r
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>reflog<span class="w"> </span>main/master
fatal:<span class="w"> </span>ambiguous<span class="w"> </span>argument<span class="w"> </span><span class="s1">&#39;main/master&#39;</span>:<span class="w"> </span>unknown<span class="w"> </span>revision<span class="w"> </span>or<span class="w"> </span>path<span class="w"> </span>not<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>working<span class="w"> </span>tree.
Use<span class="w"> </span><span class="s1">&#39;--&#39;</span><span class="w"> </span>to<span class="w"> </span>separate<span class="w"> </span>paths<span class="w"> </span>from<span class="w"> </span>revisions,<span class="w"> </span>like<span class="w"> </span>this:
<span class="s1">&#39;git &lt;command&gt; [&lt;revision&gt;...] -- [&lt;file&gt;...]&#39;</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p><br /></p>
<h3 id="git-clone">git clone<a class="headerlink" href="#git-clone" title="Permanent link">&para;</a></h3>
<p>使用 <code>git clone</code> 命令将远程仓库克隆到当前本地目录下。可以看到该命令将远程仓库拉取到当前路径下 (即相当于下载了 hello-git) ，并且完成了 <code>git init</code> 管理已经下载到本地的 <code>hello-git</code> (有 <code>.git</code> 隐藏文件夹)，也完成了 <code>git remote add</code> 关联，并且远程仓库地址的别名也已自动设置为 <code>origin</code> 。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/ikoshiba/hello-git.git
Cloning<span class="w"> </span>into<span class="w"> </span><span class="s1">&#39;hello-git&#39;</span>...
remote:<span class="w"> </span>Enumerating<span class="w"> </span>objects:<span class="w"> </span><span class="m">57</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Counting<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">57</span>/57<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Compressing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">32</span>/32<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Total<span class="w"> </span><span class="m">57</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">5</span><span class="o">)</span>,<span class="w"> </span>reused<span class="w"> </span><span class="m">57</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">5</span><span class="o">)</span>,<span class="w"> </span>pack-reused<span class="w"> </span><span class="m">0</span>
Receiving<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">57</span>/57<span class="o">)</span>,<span class="w"> </span><span class="m">5</span>.02<span class="w"> </span>KiB<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">733</span>.00<span class="w"> </span>KiB/s,<span class="w"> </span><span class="k">done</span>.
Resolving<span class="w"> </span>deltas:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">5</span>/5<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
koshiba@koshiba<span class="w"> </span>git<span class="w"> </span>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>hello-git
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>ls<span class="w"> </span>-la
total<span class="w"> </span><span class="m">24</span>
drwxr-xr-x@<span class="w">  </span><span class="m">5</span><span class="w"> </span>koshiba<span class="w">  </span>staff<span class="w">   </span><span class="m">160</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">27</span><span class="w"> </span><span class="m">05</span>:53<span class="w"> </span>.
drwxr-xr-x@<span class="w"> </span><span class="m">10</span><span class="w"> </span>koshiba<span class="w">  </span>staff<span class="w">   </span><span class="m">320</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">27</span><span class="w"> </span><span class="m">05</span>:53<span class="w"> </span>..
-rw-r--r--<span class="w">   </span><span class="m">1</span><span class="w"> </span>koshiba<span class="w">  </span>staff<span class="w">  </span><span class="m">6148</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">27</span><span class="w"> </span><span class="m">05</span>:53<span class="w"> </span>.DS_Store
drwxr-xr-x@<span class="w"> </span><span class="m">12</span><span class="w"> </span>koshiba<span class="w">  </span>staff<span class="w">   </span><span class="m">384</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">27</span><span class="w"> </span><span class="m">05</span>:53<span class="w"> </span>.git
-rw-r--r--<span class="w">   </span><span class="m">1</span><span class="w"> </span>koshiba<span class="w">  </span>staff<span class="w">    </span><span class="m">31</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">27</span><span class="w"> </span><span class="m">05</span>:53<span class="w"> </span>hello.txt
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>remote<span class="w"> </span>-v
origin<span class="w">  </span>https://github.com/ikoshiba/hello-git.git<span class="w"> </span><span class="o">(</span>fetch<span class="o">)</span>
origin<span class="w">  </span>https://github.com/ikoshiba/hello-git.git<span class="w"> </span><span class="o">(</span>push<span class="o">)</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p><br /></p>
<h3 id="git-push">git push<a class="headerlink" href="#git-push" title="Permanent link">&para;</a></h3>
<p>执行 <code>git push &lt;远程仓库地址&gt; &lt;本地分支名&gt;:&lt;远程分支名&gt;</code> 推送当前仓库到远程库。</p>
<ul>
<li>远程仓库地址在 <code>git remote add</code> 命令中已经设置了 <code>origin</code> 别名，因此可以填入 <code>origin</code> 。</li>
<li>当「本地分支名」与「远程分支名」相同时，本例中为 <code>master</code> ，可以写为 <code>git push origin master</code> 。</li>
<li>在第一次推送时，我们使用了 <code>-u</code> 参数指定了本地分支到指定远程分支的通道 (master -&gt; master) 。因此可以直接执行 <code>git push</code> ，效果等同如下。</li>
</ul>
<div class="highlight"><pre><span></span><code>git push git@github.com.outlook:ikoshiba/hello-git.git master:master
</code></pre></div>
<p>如果本地仓库当前分支比远程分支要落后，例如远程分支上的文件有更新，本地在尚未拉取合并该更新的情况下尝试推送本地的新提交，则会出现失败，如下。可以使用 <code>git pull</code> 先行拉取合并，或者执行 <code>git merger &lt;远程仓库地址&gt;/&lt;远程分支&gt;</code> 来将「本地的远程分支」合并到本地当前分支。</p>
<div class="highlight"><pre><span></span><code>To<span class="w"> </span>github.com.outlook:ikoshiba/hello-git.git
<span class="w"> </span>!<span class="w"> </span><span class="o">[</span>rejected<span class="o">]</span><span class="w">        </span>master<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="w"> </span><span class="o">(</span>non-fast-forward<span class="o">)</span>
error:<span class="w"> </span>failed<span class="w"> </span>to<span class="w"> </span>push<span class="w"> </span>some<span class="w"> </span>refs<span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;github.com.outlook:ikoshiba/hello-git.git&#39;</span>
hint:<span class="w"> </span>Updates<span class="w"> </span>were<span class="w"> </span>rejected<span class="w"> </span>because<span class="w"> </span>the<span class="w"> </span>tip<span class="w"> </span>of<span class="w"> </span>your<span class="w"> </span>current<span class="w"> </span>branch<span class="w"> </span>is<span class="w"> </span>behind
hint:<span class="w"> </span>its<span class="w"> </span>remote<span class="w"> </span>counterpart.<span class="w"> </span>Integrate<span class="w"> </span>the<span class="w"> </span>remote<span class="w"> </span>changes<span class="w"> </span><span class="o">(</span>e.g.
hint:<span class="w"> </span><span class="s1">&#39;git pull ...&#39;</span><span class="o">)</span><span class="w"> </span>before<span class="w"> </span>pushing<span class="w"> </span>again.
hint:<span class="w"> </span>See<span class="w"> </span>the<span class="w"> </span><span class="s1">&#39;Note about fast-forwards&#39;</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s1">&#39;git push --help&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>details.
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>如果本地和远程分支是同一个版本，即无更新，则推送后显示 <code>Everything up-to-date</code> 。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>push
Everything<span class="w"> </span>up-to-date
</code></pre></div>
<p>若有更新，且正常推送，则显示如下。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>push
Enumerating<span class="w"> </span>objects:<span class="w"> </span><span class="m">5</span>,<span class="w"> </span><span class="k">done</span>.
Counting<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">5</span>/5<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
Delta<span class="w"> </span>compression<span class="w"> </span>using<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span><span class="m">8</span><span class="w"> </span>threads
Compressing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">3</span>/3<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
Writing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">3</span>/3<span class="o">)</span>,<span class="w"> </span><span class="m">312</span><span class="w"> </span>bytes<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">312</span>.00<span class="w"> </span>KiB/s,<span class="w"> </span><span class="k">done</span>.
Total<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">0</span><span class="o">)</span>,<span class="w"> </span>reused<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">0</span><span class="o">)</span>,<span class="w"> </span>pack-reused<span class="w"> </span><span class="m">0</span>
To<span class="w"> </span>github.com.outlook:ikoshiba/hello-git.git
<span class="w">   </span>eeeea6f..a343286<span class="w">  </span>master<span class="w"> </span>-&gt;<span class="w"> </span>master
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p><br /></p>
<h3 id="git-fetch">git fetch<a class="headerlink" href="#git-fetch" title="Permanent link">&para;</a></h3>
<p>将远程库当前版本拉取到本地，但不合并 (<code>git merge</code>) 。若本地分支与远程分支版本相同，则无回显，若不同，则如下。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>fetch
remote:<span class="w"> </span>Enumerating<span class="w"> </span>objects:<span class="w"> </span><span class="m">5</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Counting<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">5</span>/5<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Compressing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">3</span>/3<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Total<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">1</span><span class="o">)</span>,<span class="w"> </span>reused<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">0</span><span class="o">)</span>,<span class="w"> </span>pack-reused<span class="w"> </span><span class="m">0</span>
Unpacking<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">3</span>/3<span class="o">)</span>,<span class="w"> </span><span class="m">683</span><span class="w"> </span>bytes<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">170</span>.00<span class="w"> </span>KiB/s,<span class="w"> </span><span class="k">done</span>.
From<span class="w"> </span>github.com.outlook:ikoshiba/hello-git
<span class="w">   </span>edf13a1..ad50bf4<span class="w">  </span>master<span class="w">     </span>-&gt;<span class="w"> </span>origin/master
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>可通过 <code>git log origin/master</code> 或 <code>git reflog origin/master</code> 查看本地的远程分支提交历史来确认确实拉取了远程分支当前版本。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>reflog<span class="w"> </span>origin/master
ad50bf4<span class="w"> </span><span class="o">(</span>origin/master<span class="o">)</span><span class="w"> </span>refs/remotes/origin/master@<span class="o">{</span><span class="m">0</span><span class="o">}</span>:<span class="w"> </span>fetch:<span class="w"> </span>fast-forward
edf13a1<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>refs/remotes/origin/master@<span class="o">{</span><span class="m">1</span><span class="o">}</span>:<span class="w"> </span>fetch:<span class="w"> </span>fast-forward
b0c4efa<span class="w"> </span><span class="o">(</span>remote<span class="o">)</span><span class="w"> </span>refs/remotes/origin/master@<span class="o">{</span><span class="m">2</span><span class="o">}</span>:<span class="w"> </span>update<span class="w"> </span>by<span class="w"> </span>push
de2bb32<span class="w"> </span>refs/remotes/origin/master@<span class="o">{</span><span class="m">3</span><span class="o">}</span>:<span class="w"> </span>fetch:<span class="w"> </span>fast-forward
a343286<span class="w"> </span>refs/remotes/origin/master@<span class="o">{</span><span class="m">4</span><span class="o">}</span>:<span class="w"> </span>update<span class="w"> </span>by<span class="w"> </span>push
eeeea6f<span class="w"> </span>refs/remotes/origin/master@<span class="o">{</span><span class="m">5</span><span class="o">}</span>:<span class="w"> </span>pull:<span class="w"> </span>fast-forward
2464feb<span class="w"> </span>refs/remotes/origin/master@<span class="o">{</span><span class="m">6</span><span class="o">}</span>:<span class="w"> </span>update<span class="w"> </span>by<span class="w"> </span>push
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>可通过 <code>git branch -a</code> 查看本地和远程分支，或者通过 <code>git branch -r</code> 查看远程分支。</p>
<p><br /></p>
<h3 id="git-merge_1">git merge<a class="headerlink" href="#git-merge_1" title="Permanent link">&para;</a></h3>
<p><code>git fetch</code> 之后要通过 <code>git merge</code> 将远程分支合并到本地分支，相当于 <code>git merge origin/master</code> 。从回显中还能看到这是一次「快进」 (Fast-forward) 合并。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>merge
Updating<span class="w"> </span>b0c4efa..edf13a1
Fast-forward
<span class="w"> </span>hello.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>+
<span class="w"> </span><span class="m">1</span><span class="w"> </span>file<span class="w"> </span>changed,<span class="w"> </span><span class="m">1</span><span class="w"> </span>insertion<span class="o">(</span>+<span class="o">)</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p><br /></p>
<h3 id="git-pull">git pull<a class="headerlink" href="#git-pull" title="Permanent link">&para;</a></h3>
<p>将远程库当前版本拉取到本地并合并 (<code>git merge</code>) 。格式如下。</p>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>pull<span class="w"> </span>&lt;远程仓库别名&gt;<span class="w"> </span>&lt;远程分支名&gt;:&lt;本地分支名&gt;
</code></pre></div>
<p>若远程分支名与本地分支名相同，可简写如下。</p>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>pull<span class="w"> </span>&lt;远程仓库别名&gt;<span class="w"> </span>&lt;分支名&gt;
</code></pre></div>
<p>若已经配置过 upstream ，可简写如下。</p>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>pull
</code></pre></div>
<p>若版本相同，则显示 <code>Already up to date.</code> 。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>pull
Already<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span>date.
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>若有冲突，则显示如下。此时需要先解决冲突，接着 <code>git add</code>, <code>git commit</code> ，然后再 <code>git pull</code> 。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>pull
error:<span class="w"> </span>Pulling<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>possible<span class="w"> </span>because<span class="w"> </span>you<span class="w"> </span>have<span class="w"> </span>unmerged<span class="w"> </span>files.
hint:<span class="w"> </span>Fix<span class="w"> </span>them<span class="w"> </span>up<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>work<span class="w"> </span>tree,<span class="w"> </span>and<span class="w"> </span><span class="k">then</span><span class="w"> </span>use<span class="w"> </span><span class="s1">&#39;git add/rm &lt;file&gt;&#39;</span>
hint:<span class="w"> </span>as<span class="w"> </span>appropriate<span class="w"> </span>to<span class="w"> </span>mark<span class="w"> </span>resolution<span class="w"> </span>and<span class="w"> </span>make<span class="w"> </span>a<span class="w"> </span>commit.
fatal:<span class="w"> </span>Exiting<span class="w"> </span>because<span class="w"> </span>of<span class="w"> </span>an<span class="w"> </span>unresolved<span class="w"> </span>conflict.
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>若拉取后可正常合并，则显示如下。</p>
<div class="highlight"><pre><span></span><code>koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%<span class="w"> </span>git<span class="w"> </span>pull
remote:<span class="w"> </span>Enumerating<span class="w"> </span>objects:<span class="w"> </span><span class="m">5</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Counting<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">5</span>/5<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Compressing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">2</span>/2<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Total<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">0</span><span class="o">)</span>,<span class="w"> </span>reused<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">0</span><span class="o">)</span>,<span class="w"> </span>pack-reused<span class="w"> </span><span class="m">0</span>
Unpacking<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">3</span>/3<span class="o">)</span>,<span class="w"> </span><span class="m">686</span><span class="w"> </span>bytes<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">171</span>.00<span class="w"> </span>KiB/s,<span class="w"> </span><span class="k">done</span>.
From<span class="w"> </span>github.com.outlook:ikoshiba/hello-git
<span class="w">   </span>2464feb..eeeea6f<span class="w">  </span>master<span class="w">     </span>-&gt;<span class="w"> </span>origin/master
Updating<span class="w"> </span>2464feb..eeeea6f
Fast-forward
<span class="w"> </span>hello.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>+
<span class="w"> </span><span class="m">1</span><span class="w"> </span>file<span class="w"> </span>changed,<span class="w"> </span><span class="m">1</span><span class="w"> </span>insertion<span class="o">(</span>+<span class="o">)</span>
koshiba@koshiba<span class="w"> </span>hello-git<span class="w"> </span>%
</code></pre></div>
<p>使用 <code>git fetch</code> 是更好的实践 (<a href="https://www.oschina.net/translate/git-fetch-and-merge?print">参考</a>) 。</p>







  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; wgzhao
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/01mlsx" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/wgzhao" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.indexes", "navigation.expand", "content.code.annotate", "content.tabs.link", "navigation.top", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "header.autohide", "announce.dismiss", "toc.integrate"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5090c770.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
        <script src="https://cdn.jsdelivr.net/gh/rod2ik/cdn@main/mkdocs/javascripts/mkdocs-graphviz.js"></script>
      
    
  </body>
</html>